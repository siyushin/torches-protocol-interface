{"version":3,"sources":["../node_modules/@restart/ui/esm/NoopTransition.js","../node_modules/@restart/ui/esm/TabPanel.js","../node_modules/@restart/ui/esm/Tabs.js","../node_modules/react-bootstrap/esm/getTabTransitionComponent.js","../node_modules/react-bootstrap/esm/TabContainer.js","../node_modules/react-bootstrap/esm/TabContent.js","../node_modules/react-bootstrap/esm/TabPane.js","../node_modules/react-bootstrap/esm/Tab.js","components/littleComponents/ExpandableList.module.scss","pages/lock/Lock.module.scss","components/littleComponents/ExpandableList.js","pages/lock/lockController.js","pages/lock/Lock.js"],"names":["NoopTransition","children","inProp","in","mountOnEnter","unmountOnExit","hasEnteredRef","useRef","useEffect","current","_excluded","_excluded2","_excluded3","_objectWithoutPropertiesLoose","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","useTabPanel","_ref","active","eventKey","transition","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited","props","context","useContext","TabContext","assign","isActive","activeKey","getControlledId","getControllerId","rest","makeEventKey","id","TabPanel","React","_ref2","ref","as","Component","tabPanelProps","Transition","_jsx","Provider","value","SelectableContext","hidden","displayName","Tabs","userId","generateCustomChildId","generateChildId","propsOnSelect","onSelect","propsActiveKey","defaultActiveKey","useUncontrolledProp","useSSRSafeId","useMemo","type","tabContext","Panel","getTabTransitionComponent","Fade","TabContainer","createWithBsPrefix","TabPane","bsPrefix","className","prefix","useBootstrapPrefix","classNames","propTypes","PropTypes","oneOfType","string","number","title","node","isRequired","disabled","bool","tabClassName","tabAttrs","object","Tab","Error","Container","Content","TabContent","Pane","module","exports","ExpandableList","data","howManyShows","t","useTranslation","useState","dataOnScreen","setDataOnScreen","dataHidden","setDataHidden","expanded","setExpanded","slice","styles","expandableListLayout","map","item","expandBar","onClick","event","lockController","LockActions","LOCK","UNLOCK","INCREASE_AMOUNT","INCREASE_LOCK_DURATION","TokenSymbols","TOKEN","VETOKEN","SECONDS_FOR_MONTH","SECONDS_FOR_YEAR","SECONDS_FOR_2_YEARS","SECONDS_FOR_4_YEARS","THREE_MINUTES","HAVE_LOCKED","dataBundle","web3","networkType","totalFildaSupply","globalUtils","ONE","currentVotingVeTokenSum","zero","nextVotingVeTokenSum","init","account","this","now","Date","VeTokenController","lastUpdate","getGaugeData","gaugeData","getFildaBalance","tokenBalance","getAllowanceByEscrow","allowanceByEscrow","getCurrentLockedAmount","currentLockedAmount","getCurrentLockUntil","currentLockedUntil","someData","estimateVoToken","amount","until","multipliedBy","parseInt","lock","lockFor","callback","revertCallback","txCallback","unlock","increaseAmount","amountToSend","computeBoost","gauge","stake","endLockDate","calculatedBoost","computeLockblock","lockUntil","eth","getBlockNumber","currentBlockNumber","config","veToken","blockTime","approve","approveFilda","ScoreLabel","icon","description","scoreLabelLayout","src","info","infoTitle","infoValue","ExpandableLabel","label","content","expandableLabelLayout","text","expandableContent","LockModal","lockAction","amountOfTokenLocked","rawAmountToLock","show","estimatedVeTokenAmount","unlockOn","onHide","allowance","onTxSent","language","LanguageContext","lockblock","setLockblock","txnHash","setTxHash","TransactionStatus","IDLE","txStatus","setTxStatus","errorMessage","setErrorMessage","approving","setApproving","formatBigNumber","shiftedBy","COMP","decimals","normalDecimals","amountOfTokenLocked_Formated","getValue","lockView","modalBody","toLocaleDateString","style","textTransform","modalButtons","gt","IN_PROGRESS","integerValue","getTime","receipt","window","localStorage","setItem","SUCCESS","error","FAILURE","message","hash","eq","handleIncreaseAmount","increaseAmountView","textAlign","plus","toLocaleString","increaseDurationView","loadingView","failureView","approveSuccessView","okText","handleOk","lockSuccessView","location","href","Modal","aria-labelledby","lockModal","centered","Header","closeButton","modalTitle","switchTitle","Body","view","switchView","Lock","connectedAddress","WalletAddressContext","Web3Context","NetworkTypeContext","rightNow","haveLocked","setHaveLocked","tabKey","setTabKey","torBalance","setTorBalance","setRawAmountToLock","amountToLock","setAmountToLock","setUnlockOn","setEstimatedVeTokenAmount","setAmountOfTokenLocked","setCurrentLockedUntil","setVeTokenVoted","setVeTokenTotalSupply","poolsStaked","setPoolsStaked","setGaugeData","setAllowanceByEscrow","showLockModal","setShowLockModal","setLockAction","setSomeData","Boolean","getItem","chainId","w3","NA","getPoolsStaked","tempArray","forEach","savingsBalance","push","market","index","FetchData","getSavingsBalance","then","response","savingsBalanceFormatted","savingsBalanceFiat","savingsCTokenBalance","requestIdleCallback","lockPeriods","setMonth","getMonth","setFullYear","getFullYear","lockLayout","intro","introContent","leftPane","line","introTitle","introDescription","rightPane","width","panel","tabStyle","Nav","variant","Item","Link","tabPane","keyAndValue","loading","height","controlId","uiSymbol","inputValue","onChange","Number","isNaN","BigNumber","toggleButtonOnChange","percent","toNumber","showToggleButton","fullWidth","textAlignLeft","toggleSlider","buttonBordred","ToggleAndSlider","toggleButtonNum","val","millisecond","onSlide","capo","idx","reverse","findIndex","getCapoOfLockPeriods","min","assetsLabel","symbol","poolListItem","poolListItemLeftLabel","logo","poolListItemTitle","poolListItemRightLabel","pool","gauges","filter","console","column","mveFilDALocked","scoreDescription","color","dividedBy","diff","years","Math","trunc","days","DAY","diffString","computerDuration","veFildaTotal","toFixed","to","faq"],"mappings":"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","file":"static/js/17.40a92af5.chunk.js","sourcesContent":["import { useEffect, useRef } from 'react';\n\nfunction NoopTransition({\n  children,\n  in: inProp,\n  mountOnEnter,\n  unmountOnExit\n}) {\n  const hasEnteredRef = useRef(inProp);\n  useEffect(() => {\n    if (inProp) hasEnteredRef.current = true;\n  }, [inProp]);\n  if (inProp) return children; // not in\n  //\n  // if (!mountOnEnter && !unmountOnExit) {\n  //   return children;\n  // }\n\n  if (unmountOnExit) {\n    return null;\n  }\n\n  if (!hasEnteredRef.current && mountOnEnter) {\n    return null;\n  }\n\n  return children;\n}\n\nexport default NoopTransition;","const _excluded = [\"active\", \"eventKey\", \"mountOnEnter\", \"transition\", \"unmountOnExit\", \"role\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\"],\n      _excluded2 = [\"activeKey\", \"getControlledId\", \"getControllerId\"],\n      _excluded3 = [\"as\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport TabContext from './TabContext';\nimport SelectableContext, { makeEventKey } from './SelectableContext';\nimport NoopTransition from './NoopTransition';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function useTabPanel(_ref) {\n  let {\n    active,\n    eventKey,\n    mountOnEnter,\n    transition,\n    unmountOnExit,\n    role = 'tabpanel',\n    onEnter,\n    onEntering,\n    onEntered,\n    onExit,\n    onExiting,\n    onExited\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const context = useContext(TabContext);\n  if (!context) return [Object.assign({}, props, {\n    role\n  }), {\n    eventKey,\n    isActive: active,\n    mountOnEnter,\n    transition,\n    unmountOnExit,\n    onEnter,\n    onEntering,\n    onEntered,\n    onExit,\n    onExiting,\n    onExited\n  }];\n\n  const {\n    activeKey,\n    getControlledId,\n    getControllerId\n  } = context,\n        rest = _objectWithoutPropertiesLoose(context, _excluded2);\n\n  const key = makeEventKey(eventKey);\n  return [Object.assign({}, props, {\n    role,\n    id: getControlledId(eventKey),\n    'aria-labelledby': getControllerId(eventKey)\n  }), {\n    eventKey,\n    isActive: active == null && key != null ? makeEventKey(activeKey) === key : active,\n    transition: transition || rest.transition,\n    mountOnEnter: mountOnEnter != null ? mountOnEnter : rest.mountOnEnter,\n    unmountOnExit: unmountOnExit != null ? unmountOnExit : rest.unmountOnExit,\n    onEnter,\n    onEntering,\n    onEntered,\n    onExit,\n    onExiting,\n    onExited\n  }];\n}\nconst TabPanel = /*#__PURE__*/React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n(_ref2, ref) => {\n  let {\n    as: Component = 'div'\n  } = _ref2,\n      props = _objectWithoutPropertiesLoose(_ref2, _excluded3);\n\n  const [tabPanelProps, {\n    isActive,\n    onEnter,\n    onEntering,\n    onEntered,\n    onExit,\n    onExiting,\n    onExited,\n    mountOnEnter,\n    unmountOnExit,\n    transition: Transition = NoopTransition\n  }] = useTabPanel(props); // We provide an empty the TabContext so `<Nav>`s in `<TabPanel>`s don't\n  // conflict with the top level one.\n\n  return /*#__PURE__*/_jsx(TabContext.Provider, {\n    value: null,\n    children: /*#__PURE__*/_jsx(SelectableContext.Provider, {\n      value: null,\n      children: /*#__PURE__*/_jsx(Transition, {\n        in: isActive,\n        onEnter: onEnter,\n        onEntering: onEntering,\n        onEntered: onEntered,\n        onExit: onExit,\n        onExiting: onExiting,\n        onExited: onExited,\n        mountOnEnter: mountOnEnter,\n        unmountOnExit: unmountOnExit,\n        children: /*#__PURE__*/_jsx(Component, Object.assign({}, tabPanelProps, {\n          ref: ref,\n          hidden: !isActive,\n          \"aria-hidden\": !isActive\n        }))\n      })\n    })\n  });\n});\nTabPanel.displayName = 'TabPanel';\nexport default TabPanel;","import * as React from 'react';\nimport { useMemo } from 'react';\nimport { useUncontrolledProp } from 'uncontrollable';\nimport { useSSRSafeId } from './ssr';\nimport TabContext from './TabContext';\nimport SelectableContext from './SelectableContext';\nimport TabPanel from './TabPanel';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst Tabs = props => {\n  const {\n    id: userId,\n    generateChildId: generateCustomChildId,\n    onSelect: propsOnSelect,\n    activeKey: propsActiveKey,\n    defaultActiveKey,\n    transition,\n    mountOnEnter,\n    unmountOnExit,\n    children\n  } = props;\n  const [activeKey, onSelect] = useUncontrolledProp(propsActiveKey, defaultActiveKey, propsOnSelect);\n  const id = useSSRSafeId(userId);\n  const generateChildId = useMemo(() => generateCustomChildId || ((key, type) => id ? `${id}-${type}-${key}` : null), [id, generateCustomChildId]);\n  const tabContext = useMemo(() => ({\n    onSelect,\n    activeKey,\n    transition,\n    mountOnEnter: mountOnEnter || false,\n    unmountOnExit: unmountOnExit || false,\n    getControlledId: key => generateChildId(key, 'tabpane'),\n    getControllerId: key => generateChildId(key, 'tab')\n  }), [onSelect, activeKey, transition, mountOnEnter, unmountOnExit, generateChildId]);\n  return /*#__PURE__*/_jsx(TabContext.Provider, {\n    value: tabContext,\n    children: /*#__PURE__*/_jsx(SelectableContext.Provider, {\n      value: onSelect || null,\n      children: children\n    })\n  });\n};\n\nTabs.Panel = TabPanel;\nexport default Tabs;","import NoopTransition from '@restart/ui/NoopTransition';\nimport Fade from './Fade';\nexport default function getTabTransitionComponent(transition) {\n  if (typeof transition === 'boolean') {\n    return transition ? Fade : NoopTransition;\n  }\n\n  return transition;\n}","import * as React from 'react';\nimport Tabs from '@restart/ui/Tabs';\nimport getTabTransitionComponent from './getTabTransitionComponent';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst TabContainer = ({\n  transition,\n  ...props\n}) => /*#__PURE__*/_jsx(Tabs, { ...props,\n  transition: getTabTransitionComponent(transition)\n});\n\nTabContainer.displayName = 'TabContainer';\nexport default TabContainer;","import createWithBsPrefix from './createWithBsPrefix';\nexport default createWithBsPrefix('tab-content');","import classNames from 'classnames';\nimport * as React from 'react';\nimport SelectableContext from '@restart/ui/SelectableContext';\nimport TabContext from '@restart/ui/TabContext';\nimport { useTabPanel } from '@restart/ui/TabPanel';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport Fade from './Fade';\nimport getTabTransitionComponent from './getTabTransitionComponent';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst TabPane = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  transition,\n  ...props\n}, ref) => {\n  const [{\n    className,\n    // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n    as: Component = 'div',\n    ...rest\n  }, {\n    isActive,\n    onEnter,\n    onEntering,\n    onEntered,\n    onExit,\n    onExiting,\n    onExited,\n    mountOnEnter,\n    unmountOnExit,\n    transition: Transition = Fade\n  }] = useTabPanel({ ...props,\n    transition: getTabTransitionComponent(transition)\n  });\n  const prefix = useBootstrapPrefix(bsPrefix, 'tab-pane'); // We provide an empty the TabContext so `<Nav>`s in `<TabPanel>`s don't\n  // conflict with the top level one.\n\n  return /*#__PURE__*/_jsx(TabContext.Provider, {\n    value: null,\n    children: /*#__PURE__*/_jsx(SelectableContext.Provider, {\n      value: null,\n      children: /*#__PURE__*/_jsx(Transition, {\n        in: isActive,\n        onEnter: onEnter,\n        onEntering: onEntering,\n        onEntered: onEntered,\n        onExit: onExit,\n        onExiting: onExiting,\n        onExited: onExited,\n        mountOnEnter: mountOnEnter,\n        unmountOnExit: unmountOnExit,\n        children: /*#__PURE__*/_jsx(Component, { ...rest,\n          ref: ref,\n          className: classNames(className, prefix, isActive && 'active')\n        })\n      })\n    })\n  });\n});\nTabPane.displayName = 'TabPane';\nexport default TabPane;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nimport TabContainer from './TabContainer';\nimport TabContent from './TabContent';\nimport TabPane from './TabPane';\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\n/* eslint-disable react/no-unused-prop-types */\nconst propTypes = {\n  eventKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n   * Content for the tab title.\n   */\n  title: PropTypes.node.isRequired,\n\n  /**\n   * The disabled state of the tab.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Class to pass to the underlying nav link.\n   */\n  tabClassName: PropTypes.string,\n\n  /**\n   * Object containing attributes to pass to underlying nav link.\n   */\n  tabAttrs: PropTypes.object\n};\n\nconst Tab = () => {\n  throw new Error('ReactBootstrap: The `Tab` component is not meant to be rendered! ' + \"It's an abstract component that is only valid as a direct Child of the `Tabs` Component. \" + 'For custom tabs components use TabPane and TabsContainer directly'); // Needed otherwise docs error out.\n\n  return /*#__PURE__*/_jsx(_Fragment, {});\n};\n\nTab.propTypes = propTypes;\nexport default Object.assign(Tab, {\n  Container: TabContainer,\n  Content: TabContent,\n  Pane: TabPane\n});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"expandableListLayout\":\"ExpandableList_expandableListLayout__1oLFJ\",\"expandBar\":\"ExpandableList_expandBar__2L2v0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabStyle\":\"Lock_tabStyle__2sXau\",\"lockLayout\":\"Lock_lockLayout__3Y8xR\",\"title\":\"Lock_title__1GKy7\",\"description\":\"Lock_description__10Voq\",\"intro\":\"Lock_intro__2fBSg\",\"introContent\":\"Lock_introContent__3ZL-A\",\"leftPane\":\"Lock_leftPane__28RNk\",\"line\":\"Lock_line__1Shfr\",\"introTitle\":\"Lock_introTitle__3po3p\",\"introDescription\":\"Lock_introDescription__23VUN\",\"content\":\"Lock_content__1-Ejy\",\"column\":\"Lock_column__1MeCv\",\"faq\":\"Lock_faq__1iau4\",\"panel\":\"Lock_panel__6MiN3\",\"tabPane\":\"Lock_tabPane__szLaN\",\"keyAndValue\":\"Lock_keyAndValue__R2POn\",\"key\":\"Lock_key__204Mo\",\"assetsLabel\":\"Lock_assetsLabel__3cEYw\",\"buttonBordred\":\"Lock_buttonBordred__1XYVl\",\"scoreLabelLayout\":\"Lock_scoreLabelLayout__1u_1A\",\"info\":\"Lock_info__2U8cp\",\"infoTitle\":\"Lock_infoTitle__JKjML\",\"infoValue\":\"Lock_infoValue__i1iXs\",\"scoreDescription\":\"Lock_scoreDescription__3x95I\",\"expandableLabelLayout\":\"Lock_expandableLabelLayout__RoPTR\",\"label\":\"Lock_label__26-5-\",\"text\":\"Lock_text__1H1I3\",\"icon\":\"Lock_icon__3DyQy\",\"expandableContent\":\"Lock_expandableContent__1hRcI\",\"poolListItem\":\"Lock_poolListItem__2IJvZ\",\"poolListItemLeftLabel\":\"Lock_poolListItemLeftLabel__oZNgn\",\"poolListItemTitle\":\"Lock_poolListItemTitle__2lon4\",\"poolListItemRightLabel\":\"Lock_poolListItemRightLabel__1MmhS\",\"lockModal\":\"Lock_lockModal__325vk\",\"modal-dialog\":\"Lock_modal-dialog__3-Ws2\",\"modal-content\":\"Lock_modal-content__HjysM\",\"modalTitle\":\"Lock_modalTitle__3t1nT\",\"modalBodyCenter\":\"Lock_modalBodyCenter__2su6D\",\"modalBody\":\"Lock_modalBody__nxjRP\",\"value\":\"Lock_value__tH-pF\",\"modalButtons\":\"Lock_modalButtons__21Q1z\"};","import React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport styles from \"./ExpandableList.module.scss\";\n\nexport const ExpandableList = ({\n\tdata = [],\n\thowManyShows = 3\n}) => {\n\tconst { t } = useTranslation();\n\tconst [dataOnScreen, setDataOnScreen] = useState([]);\n\tconst [dataHidden, setDataHidden] = useState([]);\n\tconst [expanded, setExpanded] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetDataOnScreen(data.slice(0, howManyShows));\n\t\tsetDataHidden(data.slice(howManyShows));\n\t}, [data]);\n\n\tconst handleExpand = event => {\n\t\tsetExpanded(!expanded);\n\t};\n\n\treturn <div className={styles.expandableListLayout}>\n\t\t{dataOnScreen.length > 0 && dataOnScreen.map(item => item)}\n\n\t\t{dataHidden.length > 0 && expanded && dataHidden.map(item => item)}\n\n\t\t{dataHidden.length > 0 && <div\n\t\t\tclassName={styles.expandBar}\n\t\t\tonClick={handleExpand}>{t(\"expand\")}▾</div>}\n\t</div>;\n};","import { VeTokenController } from \"../../lib/VeTokenController\";\nimport config from \"../../utils/config\";\nimport { globalUtils } from \"../../utils/globalUtils\";\n\nexport const lockController = {\n\tLockActions: {\n\t\tLOCK: 0,\n\t\tUNLOCK: 1,\n\t\tINCREASE_AMOUNT: 2,\n\t\tINCREASE_LOCK_DURATION: 3\n\t},\n\tTokenSymbols: {\n\t\tTOKEN: \"TOR\",\n\t\tVETOKEN: \"veTOR\",\n\t},\n\tSECONDS_FOR_MONTH: 2592000,\n\tSECONDS_FOR_YEAR: 31536000,\n\tSECONDS_FOR_2_YEARS: 63072000,\n\tSECONDS_FOR_4_YEARS: 126144000,\n\tTHREE_MINUTES: 180000,\n\tHAVE_LOCKED: \"haveLocked\",\n\tdataBundle: null,\n\tweb3: null,\n\tnetworkType: null,\n\ttotalFildaSupply: globalUtils.ONE,\n\tcurrentVotingVeTokenSum: globalUtils.zero,\n\tnextVotingVeTokenSum: globalUtils.zero,\n\tinit: async function (networkType, web3, account) {\n\t\tthis.networkType = networkType;\n\t\tthis.web3 = web3;\n\n\t\tconst now = new Date();\n\t\tif (!VeTokenController.lastUpdate || (now - VeTokenController.lastUpdate) > this.THREE_MINUTES || !this.dataBundle) {\n\t\t\tawait VeTokenController.init(networkType, web3, account);\n\t\t\tconst gaugeData = await VeTokenController.getGaugeData();\n\t\t\tconst tokenBalance = await VeTokenController.getFildaBalance();\n\t\t\tconst allowanceByEscrow = await VeTokenController.getAllowanceByEscrow();\n\t\t\tconst currentLockedAmount = await VeTokenController.getCurrentLockedAmount();\n\t\t\tconst currentLockedUntil = await VeTokenController.getCurrentLockUntil() ?? null;\n\t\t\tconst someData = VeTokenController.someData;\n\t\t\tthis.dataBundle = {\n\t\t\t\tgaugeData,\n\t\t\t\ttokenBalance,\n\t\t\t\tallowanceByEscrow,\n\t\t\t\tcurrentLockedAmount,\n\t\t\t\tcurrentLockedUntil,\n\t\t\t\tsomeData\n\t\t\t};\n\t\t}\n\n\t\tthis.totalFildaSupply = VeTokenController.totalFildaSupply;\n\t\tthis.currentVotingVeTokenSum = VeTokenController.currentVotingVeTokenSum;\n\t\tthis.nextVotingVeTokenSum = VeTokenController.nextVotingVeTokenSum;\n\n\t\treturn this.dataBundle;\n\t},\n\testimateVoToken: function (amount, until) {\n\t\treturn amount.multipliedBy(parseInt((until - new Date()) / 1000) / this.SECONDS_FOR_4_YEARS);\n\t},\n\tlock: function (amount, lockFor, callback, revertCallback, txCallback) {\n\t\treturn VeTokenController.lock(amount, lockFor, callback, revertCallback, txCallback);\n\t},\n\tunlock: function (callback, revertCallback) {\n\t\treturn VeTokenController.unlock(callback, revertCallback);\n\t},\n\tincreaseAmount: function (amountToSend, callback, revertCallback, txCallback) {\n\t\treturn VeTokenController.increaseAmount(amountToSend, callback, revertCallback, txCallback);\n\t},\n\tcomputeBoost: function (gauge, stake, lock, endLockDate) {\n\t\treturn VeTokenController.calculatedBoost(null, gauge, stake, lock, endLockDate);\n\t},\n\tcomputeLockblock: async function (lockUntil) {\n\t\tconst currentBlockNumber = await this.web3.eth.getBlockNumber();\n\t\treturn currentBlockNumber + parseInt((lockUntil - (new Date())) / 1000 / config.veToken[this.networkType].blockTime);\n\t},\n\tapprove: function (callback, revertCallback, txCallback) {\n\t\tVeTokenController.approveFilda(callback, revertCallback, txCallback);\n\t}\n};","import BigNumber from 'bignumber.js';\nimport classNames from 'classnames';\nimport { eq } from 'lodash-es';\nimport React, { useContext, useEffect, useState } from 'react'\nimport { Button, Modal, Nav, Tab } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\nimport { ModalInput, ModalSucAndFail } from '../../components/littleComponents';\nimport { ExpandableList } from '../../components/littleComponents/ExpandableList';\nimport { ToggleAndSlider } from '../../components/littleComponents/ToggleAndSlider';\nimport { LanguageContext, NetworkTypeContext, WalletAddressContext, Web3Context } from '../../context';\nimport FetchData from '../../methods/FetchData';\nimport config from '../../utils/config';\nimport { globalUtils } from '../../utils/globalUtils';\nimport { formatBigNumber } from '../../utils/numberFormat';\nimport styles from \"./Lock.module.scss\";\nimport { lockController } from './lockController';\n\nconst ScoreLabel = ({\n\ticon = null,\n\ttitle = \"\",\n\tvalue = \"\",\n\tdescription = null\n}) => {\n\treturn <div className={styles.scoreLabelLayout}>\n\t\t{icon && <img src={icon} />}\n\n\t\t<div className={styles.info}>\n\t\t\t{title && <div className={styles.infoTitle}>{title}</div>}\n\t\t\t{value && <div className={styles.infoValue}>{value}</div>}\n\t\t\t{description && description}\n\t\t</div>\n\t</div>\n};\n\nconst ExpandableLabel = ({\n\tlabel = \"\",\n\tcontent = null\n}) => {\n\tconst [expanded, setExpanded] = useState(false);\n\n\tconst handleExpand = event => {\n\t\tsetExpanded(!expanded);\n\t};\n\n\treturn <div className={styles.expandableLabelLayout}>\n\t\t<div\n\t\t\tclassName={styles.label}\n\t\t\tonClick={handleExpand}>\n\t\t\t<div className={styles.text}>{label}</div>\n\n\t\t\t<div className={styles.icon}>{expanded ? \"-\" : \"+\"}</div>\n\t\t</div>\n\n\t\t{expanded && content && <div className={styles.expandableContent}>{content}</div>}\n\t</div>\n};\n\nconst LockModal = ({\n\tlockAction = lockController.LockActions.LOCK,\n\tamountOfTokenLocked = globalUtils.zero,\n\trawAmountToLock = globalUtils.zero,\n\tshow = false,\n\testimatedVeTokenAmount = globalUtils.zero,\n\tunlockOn = null,\n\tcurrentLockedUntil = null,\n\tonHide = null,\n\tallowance = null,\n\tonTxSent = null\n}) => {\n\tconst { t } = useTranslation();\n\tconst { language } = useContext(LanguageContext);\n\tconst [lockblock, setLockblock] = useState(0);\n\tconst [txnHash, setTxHash] = useState(\"\");\n\tconst [txStatus, setTxStatus] = useState(globalUtils.TransactionStatus.IDLE);\n\tconst [errorMessage, setErrorMessage] = useState(\"\");\n\tconst [approving, setApproving] = useState(false);\n\tconst amount = formatBigNumber(estimatedVeTokenAmount.shiftedBy(-config.COMP.decimals), globalUtils.normalDecimals);\n\tconst amountOfTokenLocked_Formated = formatBigNumber(amountOfTokenLocked.shiftedBy(-config.COMP.decimals), globalUtils.normalDecimals);\n\n\tuseEffect(() => {\n\t\tconst getValue = async () => {\n\t\t\tsetLockblock(await lockController.computeLockblock(unlockOn));\n\t\t};\n\n\t\tif (unlockOn) {\n\t\t\tgetValue();\n\t\t}\n\t}, [unlockOn]);\n\n\tconst handleLock = event => {\n\t\tsetApproving(false);\n\t\tsetTxStatus(globalUtils.TransactionStatus.IN_PROGRESS);\n\n\t\tlockController.lock(\n\t\t\trawAmountToLock.integerValue(),\n\t\t\tparseInt(unlockOn.getTime() / 1000),\n\t\t\treceipt => {\n\t\t\t\twindow.localStorage.setItem(lockController.HAVE_LOCKED, 1);\n\n\t\t\t\tsetTxStatus(globalUtils.TransactionStatus.SUCCESS);\n\t\t\t\tif (onTxSent) {\n\t\t\t\t\tonTxSent();\n\t\t\t\t}\n\t\t\t},\n\t\t\t(error, receipt) => {\n\t\t\t\tsetTxStatus(globalUtils.TransactionStatus.FAILURE);\n\t\t\t\tsetErrorMessage(error.message)\n\t\t\t},\n\t\t\thash => {\n\t\t\t\tsetTxHash(hash);\n\t\t\t}\n\t\t);\n\t};\n\n\tconst handleApprove = event => {\n\t\tsetApproving(true);\n\t\tsetTxStatus(globalUtils.TransactionStatus.IN_PROGRESS);\n\n\t\tlockController.approve(\n\t\t\treceipt => {\n\t\t\t\tsetTxStatus(globalUtils.TransactionStatus.SUCCESS);\n\t\t\t\tif (onTxSent) {\n\t\t\t\t\tonTxSent();\n\t\t\t\t}\n\t\t\t},\n\t\t\t(error, receipt) => {\n\t\t\t\tsetApproving(false);\n\t\t\t\tsetTxStatus(globalUtils.TransactionStatus.FAILURE);\n\t\t\t\tsetErrorMessage(error.message)\n\t\t\t},\n\t\t\thash => {\n\t\t\t\tsetTxHash(hash);\n\t\t\t}\n\t\t);\n\t};\n\n\tconst lockView = <div className={styles.modalBody}>\n\t\t<div className={styles.key}>{t(\"creatingLockAmount\")}</div>\n\n\t\t<div>\n\t\t\t<span className={styles.value}>{amount}</span>\n\t\t\t<span>&nbsp;{lockController.TokenSymbols.VETOKEN}</span>\n\t\t</div>\n\n\t\t<p />\n\n\t\t<div className={styles.key}>{t(\"until\")}</div>\n\n\t\t<div>\n\t\t\t<span className={styles.value}>{unlockOn?.toLocaleDateString()}</span>\n\t\t\t<span style={{ textTransform: \"capitalize\" }}>&nbsp;({t(\"lockblock\")}:&nbsp;{lockblock})</span>\n\t\t</div>\n\n\t\t<div className={styles.modalButtons}>\n\t\t\t{allowance?.gt(0) && <button onClick={handleLock}>{t(\"lock\")}</button>}\n\n\t\t\t{(!allowance || allowance.eq(0)) && <button onClick={handleApprove}>{t(\"CommonModal.Approve\")}</button>}\n\t\t</div>\n\t</div>\n\n\tconst handleIncreaseAmount = event => {\n\t\tsetApproving(false);\n\t\tsetTxStatus(globalUtils.TransactionStatus.IN_PROGRESS);\n\n\t\tlockController.increaseAmount(\n\t\t\trawAmountToLock.integerValue(),\n\t\t\treceipt => {\n\t\t\t\tsetTxStatus(globalUtils.TransactionStatus.SUCCESS);\n\t\t\t\tif (onTxSent) {\n\t\t\t\t\tonTxSent();\n\t\t\t\t}\n\t\t\t},\n\t\t\t(error, receipt) => {\n\t\t\t\tsetTxStatus(globalUtils.TransactionStatus.FAILURE);\n\t\t\t\tsetErrorMessage(error.message)\n\t\t\t},\n\t\t\thash => {\n\t\t\t\tsetTxHash(hash);\n\t\t\t}\n\t\t);\n\t};\n\n\tconst handleIncreaseDuration = event => {\n\t\tsetApproving(false);\n\t\tsetTxStatus(globalUtils.TransactionStatus.IN_PROGRESS);\n\n\t\tlockController.increaseAmount(\n\t\t\tparseInt(unlockOn.getTime() / 1000),\n\t\t\treceipt => {\n\t\t\t\tsetTxStatus(globalUtils.TransactionStatus.SUCCESS);\n\t\t\t\tif (onTxSent) {\n\t\t\t\t\tonTxSent();\n\t\t\t\t}\n\t\t\t},\n\t\t\t(error, receipt) => {\n\t\t\t\tsetTxStatus(globalUtils.TransactionStatus.FAILURE);\n\t\t\t\tsetErrorMessage(error.message)\n\t\t\t},\n\t\t\thash => {\n\t\t\t\tsetTxHash(hash);\n\t\t\t}\n\t\t);\n\t}\n\n\tconst increaseAmountView = <div className={styles.modalBody}>\n\t\t<div>\n\t\t\t<span className={styles.value}>{amountOfTokenLocked_Formated}</span>\n\t\t\t<span>&nbsp;{lockController.TokenSymbols.TOKEN}</span>\n\t\t</div>\n\n\t\t<p />\n\t\t<p style={{ textAlign: \"center\" }}>↓</p>\n\t\t<p />\n\n\t\t<div>\n\t\t\t<span className={styles.value}>{formatBigNumber(rawAmountToLock.plus(amountOfTokenLocked).shiftedBy(-config.COMP.decimals), globalUtils.normalDecimals)}</span>\n\t\t\t<span>&nbsp;{lockController.TokenSymbols.TOKEN}</span>\n\t\t</div>\n\n\t\t<div>{amount}&nbsp;{lockController.TokenSymbols.VETOKEN}</div>\n\n\t\t<p />\n\n\t\t<div>{currentLockedUntil.toLocaleString()}</div>\n\n\t\t<div className={styles.modalButtons}>\n\t\t\t<button onClick={handleIncreaseAmount}>{t(\"lock\")}</button>\n\t\t</div>\n\t</div>;\n\n\tconst increaseDurationView = <div className={styles.modalBody}>\n\t\t<div className={styles.value}>{currentLockedUntil.toLocaleDateString()}</div>\n\n\t\t<p />\n\t\t<p style={{ textAlign: \"center\" }}>↓</p>\n\n\t\t<div className={styles.value}>{unlockOn.toLocaleDateString()}</div>\n\n\t\t<div>{t(\"lockAmount\")}:&nbsp;{amountOfTokenLocked_Formated}&nbsp;{lockController.TokenSymbols.TOKEN}({amount}&nbsp;{lockController.TokenSymbols.VETOKEN})</div>\n\n\t\t<p />\n\n\t\t<div\n\t\t\tclassName={styles.modalButtons}\n\t\t\tonClick={handleIncreaseDuration}>\n\t\t\t<button onClick={handleIncreaseAmount}>{t(\"lock\")}</button>\n\t\t</div>\n\t</div>;\n\n\tconst loadingView = <>\n\t\t<p>&nbsp;</p>\n\t\t<ModalSucAndFail\n\t\t\ttype=\"loading\"\n\t\t\ttxnHash={txnHash}\n\t\t\ttitle={t('CommonModal.PleaseWait')} />\n\t\t<p>&nbsp;</p>\n\t</>\n\n\tconst failureView = <>\n\t\t<p>&nbsp;</p>\n\t\t<ModalSucAndFail\n\t\t\ttype=\"error\"\n\t\t\ttxnHash={txnHash}\n\t\t\tcontent={errorMessage} />\n\t\t<p>&nbsp;</p>\n\t</>\n\n\tconst onApproved = () => {\n\t\tsetApproving(false);\n\t\tsetTxStatus(globalUtils.TransactionStatus.IDLE);\n\t};\n\n\tconst approveSuccessView = <>\n\t\t<p>&nbsp;</p>\n\t\t<ModalSucAndFail\n\t\t\ttype=\"success\"\n\t\t\ttxnHash={txnHash}\n\t\t\ttitle={t('approvedSuccessfully')}\n\t\t\tokText={t(\"ok\")}\n\t\t\thandleOk={onApproved} />\n\t\t<p>&nbsp;</p>\n\t</>\n\n\tconst onLocked = () => {\n\t\twindow.location.href = \"/\" + language + \"/vote\";\n\t};\n\n\tconst lockSuccessView = <>\n\t\t<p>&nbsp;</p>\n\t\t<ModalSucAndFail\n\t\t\ttype=\"success\"\n\t\t\ttxnHash={txnHash}\n\t\t\ttitle={t('lockedSuccessfully')}\n\t\t\tcontent={t(\"getVeToken\", { amount: amount })}\n\t\t\tokText={t(\"voteWithVeTOR\")}\n\t\t\thandleOk={onLocked} />\n\t\t<p>&nbsp;</p>\n\t</>\n\n\tconst switchView = () => {\n\t\tlet view = null;\n\t\tswitch (txStatus) {\n\t\t\tcase globalUtils.TransactionStatus.IN_PROGRESS:\n\t\t\t\tview = loadingView;\n\t\t\t\tbreak;\n\n\t\t\tcase globalUtils.TransactionStatus.SUCCESS:\n\t\t\t\tview = approving ? approveSuccessView : lockSuccessView;\n\t\t\t\tbreak;\n\n\t\t\tcase globalUtils.TransactionStatus.FAILURE:\n\t\t\t\tview = failureView;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tswitch (lockAction) {\n\t\t\t\t\tcase lockController.LockActions.INCREASE_AMOUNT:\n\t\t\t\t\t\tview = increaseAmountView;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase lockController.LockActions.INCREASE_LOCK_DURATION:\n\t\t\t\t\t\tview = increaseDurationView;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tview = lockView;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\treturn view;\n\t};\n\n\tconst switchTitle = () => {\n\t\tlet title = \"\";\n\t\tswitch (lockAction) {\n\t\t\tcase lockController.LockActions.INCREASE_AMOUNT:\n\t\t\t\ttitle = t(\"increaseLockAmount\");\n\t\t\t\tbreak;\n\n\t\t\tcase lockController.LockActions.INCREASE_LOCK_DURATION:\n\t\t\t\ttitle = t(\"increaseLockTime\");\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\ttitle = t(\"confirmLock\");\n\t\t\t\tbreak;\n\t\t}\n\t\treturn title;\n\t};\n\n\treturn <Modal\n\t\tshow={show}\n\t\tonHide={onHide}\n\t\taria-labelledby=\"contained-modal-title-vcenter\"\n\t\tclassName={styles.lockModal}\n\t\tcentered>\n\t\t<Modal.Header closeButton>\n\t\t\t<div className={styles.modalTitle}>{switchTitle()}</div>\n\t\t</Modal.Header>\n\n\t\t<Modal.Body>\n\t\t\t{switchView()}\n\t\t</Modal.Body>\n\t</Modal>;\n};\n\nconst Lock = props => {\n\tconst { connectedAddress } = useContext(WalletAddressContext);\n\tconst { web3 } = useContext(Web3Context);\n\tconst { networkType } = useContext(NetworkTypeContext);\n\tconst rightNow = new Date();\n\tconst { t } = useTranslation();\n\tconst { language } = useContext(LanguageContext);\n\tconst [haveLocked, setHaveLocked] = useState(false);\n\tconst [tabKey, setTabKey] = useState(lockController.LockActions.LOCK);\n\tconst [torBalance, setTorBalance] = useState(globalUtils.zero);\n\tconst [rawAmountToLock, setRawAmountToLock] = useState(globalUtils.zero);\n\tconst [amountToLock, setAmountToLock] = useState(0);\n\tconst [unlockOn, setUnlockOn] = useState(null);\n\tconst [estimatedVeTokenAmount, setEstimatedVeTokenAmount] = useState(globalUtils.zero);\n\tconst [amountOfTokenLocked, setAmountOfTokenLocked] = useState(globalUtils.zero);\n\tconst [currentLockedUntil, setCurrentLockedUntil] = useState(rightNow);\n\tconst [veTokenVoted, setVeTokenVoted] = useState(globalUtils.zero);\n\tconst [veTokenTotalSupply, setVeTokenTotalSupply] = useState(globalUtils.zero);\n\tconst [poolsStaked, setPoolsStaked] = useState([]);\n\tconst [gaugeData, setGaugeData] = useState(null);\n\tconst [allowanceByEscrow, setAllowanceByEscrow] = useState(globalUtils.zero);\n\tconst [showLockModal, setShowLockModal] = useState(false);\n\tconst [lockAction, setLockAction] = useState(lockController.LockActions.LOCK);\n\tconst [someData, setSomeData] = useState(null);\n\tconst amountOfTokenLocked_Formated = formatBigNumber(amountOfTokenLocked.shiftedBy(-config.COMP.decimals), globalUtils.normalDecimals);\n\n\tuseEffect(() => {\n\t\tsetHaveLocked(Boolean(window.localStorage.getItem(lockController.HAVE_LOCKED)))\n\t}, []);\n\n\tconst init = () => {\n\t\tconst init = async (chainId, w3, account) => {\n\t\t\tconst dataBundle = await lockController.init(chainId, w3, account);\n\n\t\t\tsetGaugeData(dataBundle.gaugeData);\n\t\t\tsetTorBalance(dataBundle.tokenBalance);\n\t\t\tsetCurrentLockedUntil(dataBundle.currentLockedUntil);\n\t\t\tsetAllowanceByEscrow(dataBundle.allowanceByEscrow);\n\t\t\tsetAmountOfTokenLocked(dataBundle.currentLockedAmount);\n\t\t\tsetSomeData(dataBundle.someData);\n\t\t\tsetRawAmountToLock(globalUtils.zero);\n\t\t\tsetAmountToLock(0);\n\t\t\tsetUnlockOn(null);\n\t\t\tsetVeTokenVoted(globalUtils.zero);\n\t\t\tsetVeTokenTotalSupply(globalUtils.zero);\n\t\t\tsetPoolsStaked([]);\n\t\t\tsetLockAction(lockController.LockActions.LOCK);\n\t\t};\n\n\t\tif (networkType && web3 && connectedAddress != globalUtils.NA) {\n\t\t\tinit(networkType, web3, connectedAddress);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tinit()\n\t}, [networkType, web3, connectedAddress]);\n\n\tconst getPoolsStaked = () => {\n\t\tconst tempArray = [];\n\t\tprops.data.forEach(item => {\n\t\t\tif (item.savingsBalance > 0) {\n\t\t\t\ttempArray.push(item);\n\t\t\t}\n\t\t});\n\t\tsetPoolsStaked(tempArray);\n\t};\n\n\tconst getSavings = () => {\n\t\tprops.data.map((market, index) => {\n\t\t\tif (!market.savingsBalance) {\n\t\t\t\tFetchData.getSavingsBalance(web3, connectedAddress, networkType, market).then(response => {\n\t\t\t\t\tmarket.savingsBalance = response.savingsBalance\n\t\t\t\t\tmarket.savingsBalanceFormatted = response.savingsBalanceFormatted\n\t\t\t\t\tmarket.savingsBalanceFiat = response.savingsBalanceFiat\n\t\t\t\t\tmarket.savingsCTokenBalance = response.savingsCTokenBalance\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (index === (props.data.length - 1)) {\n\t\t\t\twindow.requestIdleCallback(getPoolsStaked);\n\t\t\t}\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (props.data && networkType && web3 && connectedAddress != globalUtils.NA) {\n\t\t\tgetSavings();\n\t\t}\n\t}, [props.data, networkType, web3, connectedAddress]);\n\n\tconst lockPeriods = [\n\t\t{\n\t\t\tid: \"lockPeriod1\",\n\t\t\tkey: \"1 \" + t(\"month\"),\n\t\t\tvalue: 0,\n\t\t\tuntil: new Date().setMonth(rightNow.getMonth() + 1)\n\t\t},\n\t\t{\n\t\t\tid: \"lockPeriod2\",\n\t\t\tkey: \"1 \" + t(\"year\"),\n\t\t\tvalue: 1,\n\t\t\tuntil: new Date().setFullYear(rightNow.getFullYear() + 1)\n\t\t},\n\t\t{\n\t\t\tid: \"lockPeriod3\",\n\t\t\tkey: \"2 \" + t(\"year\"),\n\t\t\tvalue: 2,\n\t\t\tuntil: new Date().setFullYear(rightNow.getFullYear() + 2)\n\t\t},\n\t\t{\n\t\t\tid: \"lockPeriod4\",\n\t\t\tkey: \"4 \" + t(\"year\"),\n\t\t\tvalue: 3,\n\t\t\tuntil: new Date().setFullYear(rightNow.getFullYear() + 4)\n\t\t}\n\t];\n\n\tconst handleSelectLockPanel = key => {\n\t\tsetTabKey(key)\n\t};\n\n\tconst handleInputAmountToLock = event => {\n\t\t// setAmountToLock(torBalance.shiftedBy(-config.COMP.decimals).multipliedBy(event.target.value).toNumber());\n\t\t// setRawAmountToLock(torBalance.multipliedBy(event.target.value));\n\t\tconst value = Number(event.target.value);\n\t\tif (!isNaN(value)) {\n\t\t\tsetAmountToLock(value);\n\t\t\tsetRawAmountToLock(new BigNumber(value).shiftedBy(config.COMP.decimals));\n\t\t}\n\t};\n\n\tconst handleToggleAmountToLock = percent => {\n\t\tsetAmountToLock(torBalance.shiftedBy(-config.COMP.decimals).multipliedBy(percent).toNumber());\n\t\tsetRawAmountToLock(torBalance.multipliedBy(percent));\n\t};\n\n\tuseEffect(() => {\n\t\tif ((rawAmountToLock.gt(0) && unlockOn) || amountOfTokenLocked.gt(0)) {\n\t\t\tsetEstimatedVeTokenAmount(lockController.estimateVoToken(rawAmountToLock.plus(amountOfTokenLocked), unlockOn ?? currentLockedUntil));\n\t\t}\n\t}, [amountOfTokenLocked, rawAmountToLock, unlockOn]);\n\n\tconst handleSelectLockPeriod = val => {\n\t\tlet millisecond = 0;\n\t\tswitch (val) {\n\t\t\tcase 0:\n\t\t\t\tmillisecond = lockController.SECONDS_FOR_MONTH * 1000;\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\tmillisecond = lockController.SECONDS_FOR_YEAR * 1000;\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\tmillisecond = lockController.SECONDS_FOR_2_YEARS * 1000;\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\tmillisecond = lockController.SECONDS_FOR_4_YEARS * 1000;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tsetUnlockOn(new Date(rightNow.getTime() + millisecond));\n\t}\n\n\tconst handleSlideLockPeriod = val => {\n\t\tsetUnlockOn(new Date(rightNow.getTime() + val * lockController.SECONDS_FOR_4_YEARS * 1000));\n\t}\n\n\tconst handleCreateLock = event => {\n\t\tsetShowLockModal(true);\n\t};\n\n\tconst handleCloseLockModal = () => {\n\t\tsetShowLockModal(false);\n\t}\n\n\tconst handleWithdraw = event => {\n\t\tlockController.unlock(\n\t\t\treceipt => {\n\t\t\t\tinit()\n\t\t\t},\n\t\t\t(error, receipt) => {\n\t\t\t\tconsole.error(error);\n\t\t\t}\n\t\t);\n\t};\n\n\tconst computeBoost = pool => {\n\t\tif (!gaugeData || rawAmountToLock.eq(0) || !unlockOn) {\n\t\t\treturn 1;\n\t\t}\n\n\t\tconst gauges = gaugeData.filter(item => item.symbol === pool.symbol);\n\t\tlet gauge = null;\n\t\tif (gauges.length > 0) {\n\t\t\tgauge = gauges[0];\n\t\t\treturn lockController.computeBoost(\n\t\t\t\tgauge,\n\t\t\t\tpool.savingsBalanceFormatted,\n\t\t\t\trawAmountToLock.shiftedBy(-config.COMP.decimals).toNumber(),\n\t\t\t\tparseInt(unlockOn.getTime() / 1000)\n\t\t\t);\n\t\t} else {\n\t\t\treturn 1;\n\t\t}\n\t};\n\n\tconst generatePoolDom = () => {\n\t\treturn poolsStaked.map(item => {\n\t\t\treturn <div\n\t\t\t\tkey={item.symbol}\n\t\t\t\tclassName={styles.poolListItem}>\n\t\t\t\t<div className={styles.poolListItemLeftLabel}>\n\t\t\t\t\t<img src={item.logo} width=\"24px\" />\n\t\t\t\t\t<div className={styles.poolListItemTitle}>&nbsp;{item.symbol}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={styles.poolListItemRightLabel}>{computeBoost(item)}X&nbsp;Boost</div>\n\t\t\t</div>\n\t\t})\n\t};\n\n\tconst handleIncreaseAmount = event => {\n\t\tsetLockAction(lockController.LockActions.INCREASE_AMOUNT);\n\t\tsetShowLockModal(true);\n\t};\n\n\tconst handleIncreaseDuration = event => {\n\t\tsetLockAction(lockController.LockActions.INCREASE_LOCK_DURATION);\n\t\tsetShowLockModal(true)\n\t};\n\n\tconst getCapoOfLockPeriods = () => {\n\t\tconst idx = [...lockPeriods].reverse().findIndex(item => currentLockedUntil >= item.until);\n\t\tif (idx < 0) {\n\t\t\treturn 0;\n\t\t} else {\n\t\t\treturn lockPeriods?.length - idx;\n\t\t}\n\t};\n\n\tconst computerDuration = diff => {\n\t\tif (isNaN(diff) || diff < 0) {\n\t\t\treturn \"-\"\n\t\t}\n\n\t\tlet years = Math.trunc(diff / (lockController.SECONDS_FOR_YEAR));\n\t\tlet days = Math.trunc(diff / globalUtils.DAY);\n\n\t\tlet diffString = '';\n\n\t\tif (years) {\n\t\t\tdiffString += years + \" \" + t(\"years\");\n\t\t}\n\n\t\tif (days) {\n\t\t\tdiffString += days + \" \" + t(\"days\");\n\t\t}\n\n\t\treturn diffString;\n\t};\n\n\treturn <>\n\t\t<div className={styles.lockLayout}>\n\t\t\t<div className={styles.title}>\n\t\t\t\t<h1>{t(\"lock\")}</h1>\n\t\t\t\t<div className={styles.description}>{t(\"lockDescription\")}</div>\n\t\t\t</div>\n\n\t\t\t{!haveLocked && <div className={styles.intro}>\n\t\t\t\t<div className={styles.introContent}>\n\t\t\t\t\t<div className={styles.leftPane}>\n\t\t\t\t\t\t<div className={styles.line} />\n\t\t\t\t\t\t<p />\n\t\t\t\t\t\t<div className={styles.introTitle}>{t(\"guideOfTor\")}</div>\n\t\t\t\t\t\t<p />\n\t\t\t\t\t\t<div className={styles.introDescription}>{t(\"lendingToMineTor\")}</div>\n\t\t\t\t\t\t<p>&nbsp;</p>\n\t\t\t\t\t\t<button>{t(\"viewTutorial\")}</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={styles.rightPane}>\n\t\t\t\t\t\t<img src='/images/lock_intro.svg' width=\"512px\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>}\n\n\t\t\t<div className={styles.content}>\n\t\t\t\t<div className={classNames(styles.panel, styles.tabStyle)}>\n\t\t\t\t\t<Tab.Container\n\t\t\t\t\t\tid=\"getVeToken\"\n\t\t\t\t\t\tdefaultActiveKey={tabKey}\n\t\t\t\t\t\tonSelect={handleSelectLockPanel}>\n\t\t\t\t\t\t<Nav variant='pills' defaultActiveKey={lockController.LockActions.LOCK}>\n\t\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t\t<Nav.Link eventKey={lockController.LockActions.LOCK}>{t('lock')}</Nav.Link>\n\t\t\t\t\t\t\t</Nav.Item>\n\n\t\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t\t<Nav.Link eventKey={lockController.LockActions.UNLOCK}>{t('unlock')}</Nav.Link>\n\t\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t</Nav>\n\n\t\t\t\t\t\t<Tab.Content>\n\t\t\t\t\t\t\t<Tab.Pane eventKey={lockController.LockActions.LOCK} className={styles.tabPane}>\n\t\t\t\t\t\t\t\t<p />\n\n\t\t\t\t\t\t\t\t<div className={styles.keyAndValue}>\n\t\t\t\t\t\t\t\t\t<div className={styles.key}>{t(\"lockAmount\")}</div>\n\t\t\t\t\t\t\t\t\t<div className={classNames(styles.value, styles.loading)}>{t(\"available\")}:&nbsp;{torBalance.eq(0) ? <img src='/images/loadingspin.svg' height=\"16px\" /> : formatBigNumber(torBalance.shiftedBy(-config.COMP.decimals), globalUtils.normalDecimals)}&nbsp;{lockController.TokenSymbols.TOKEN}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ModalInput\n\t\t\t\t\t\t\t\t\tdisabled={torBalance.eq(0)}\n\t\t\t\t\t\t\t\t\tcontrolId=\"formLock\"\n\t\t\t\t\t\t\t\t\tdata={{ uiSymbol: lockController.TokenSymbols.VETOKEN }}\n\t\t\t\t\t\t\t\t\tinputValue={amountToLock}\n\t\t\t\t\t\t\t\t\tonChange={handleInputAmountToLock}\n\t\t\t\t\t\t\t\t\ttoggleButtonOnChange={handleToggleAmountToLock}\n\t\t\t\t\t\t\t\t\tshowToggleButton\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttextAlignLeft\n\t\t\t\t\t\t\t\t\ttoggleSlider />\n\n\t\t\t\t\t\t\t\t{amountOfTokenLocked.gt(0) && currentLockedUntil > rightNow && <>\n\t\t\t\t\t\t\t\t\t<p />\n\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={styles.buttonBordred}\n\t\t\t\t\t\t\t\t\t\tonClick={handleIncreaseAmount}\n\t\t\t\t\t\t\t\t\t\tdisabled={rawAmountToLock.eq(0)}>\n\t\t\t\t\t\t\t\t\t\t+&nbsp;{t(\"increaseAmount\")}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t\t\t<p>&nbsp;</p>\n\n\t\t\t\t\t\t\t\t<div className={styles.keyAndValue}>\n\t\t\t\t\t\t\t\t\t<div className={styles.key}>{t(\"lockDuration\")}</div>\n\n\t\t\t\t\t\t\t\t\t{unlockOn && <div className={styles.value}>{t(\"unlockOn\")}:&nbsp;{unlockOn.toLocaleString()}</div>}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<p />\n\n\t\t\t\t\t\t\t\t<ToggleAndSlider\n\t\t\t\t\t\t\t\t\tid=\"lockPeriod\"\n\t\t\t\t\t\t\t\t\ttoggleButtonNum={lockPeriods}\n\t\t\t\t\t\t\t\t\ttoggleSlider={true}\n\t\t\t\t\t\t\t\t\ttoggleButtonOnChange={handleSelectLockPeriod}\n\t\t\t\t\t\t\t\t\tonSlide={handleSlideLockPeriod}\n\t\t\t\t\t\t\t\t\tdisabled={torBalance.eq(0)}\n\t\t\t\t\t\t\t\t\tcapo={getCapoOfLockPeriods()}\n\t\t\t\t\t\t\t\t\tmin={(currentLockedUntil - rightNow) / 1000 / lockController.SECONDS_FOR_4_YEARS} />\n\n\t\t\t\t\t\t\t\t{amountOfTokenLocked.gt(0) && <>\n\t\t\t\t\t\t\t\t\t<p />\n\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={styles.buttonBordred}\n\t\t\t\t\t\t\t\t\t\tdisabled={!unlockOn}\n\t\t\t\t\t\t\t\t\t\tonClick={handleIncreaseDuration}>\n\t\t\t\t\t\t\t\t\t\t+&nbsp;{t(\"increaseDuration\")}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t\t\t<p />\n\t\t\t\t\t\t\t\t<p style={{ textAlign: \"center\" }}>↓</p>\n\t\t\t\t\t\t\t\t<p />\n\n\t\t\t\t\t\t\t\t<div className={styles.keyAndValue}>\n\t\t\t\t\t\t\t\t\t<div className={styles.key}>{t(\"yourVeTORWillBe\")}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<p />\n\n\t\t\t\t\t\t\t\t<div className={styles.assetsLabel}>\n\t\t\t\t\t\t\t\t\t<div className={styles.key}>{formatBigNumber(estimatedVeTokenAmount.shiftedBy(-config.COMP.decimals), globalUtils.normalDecimals)}</div>\n\t\t\t\t\t\t\t\t\t<div className={styles.value}>{lockController.TokenSymbols.VETOKEN}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<p>&nbsp;</p>\n\n\t\t\t\t\t\t\t\t{poolsStaked?.length > 0 && <>\n\t\t\t\t\t\t\t\t\t<div className={styles.keyAndValue}>\n\t\t\t\t\t\t\t\t\t\t<div className={styles.key}>\n\t\t\t\t\t\t\t\t\t\t\t<span>{t(\"depositTorMiningAPY\")}&nbsp;</span>\n\t\t\t\t\t\t\t\t\t\t\t<img src='/images/info_gray.svg' width=\"12px\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<p />\n\n\t\t\t\t\t\t\t\t\t<ExpandableList\n\t\t\t\t\t\t\t\t\t\thowManyShows={3}\n\t\t\t\t\t\t\t\t\t\tdata={generatePoolDom()} />\n\t\t\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t\t\t{amountOfTokenLocked.eq(0) && <>\n\t\t\t\t\t\t\t\t\t<p>&nbsp;</p>\n\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tdisabled={rawAmountToLock.eq(0) || !unlockOn}\n\t\t\t\t\t\t\t\t\t\tonClick={handleCreateLock}>{t(\"createLock\")}</button>\n\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t</Tab.Pane>\n\n\t\t\t\t\t\t\t<Tab.Pane eventKey={lockController.LockActions.UNLOCK} className={styles.tabPane}>\n\t\t\t\t\t\t\t\t<p />\n\n\t\t\t\t\t\t\t\t<div className={styles.keyAndValue}>\n\t\t\t\t\t\t\t\t\t<div className={styles.key}>{t(\"unlockAmount\")}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<p />\n\n\t\t\t\t\t\t\t\t<div className={styles.assetsLabel}>\n\t\t\t\t\t\t\t\t\t<div className={styles.key}>{amountOfTokenLocked_Formated}</div>\n\t\t\t\t\t\t\t\t\t<div className={styles.value}>{lockController.TokenSymbols.TOKEN}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<p>&nbsp;</p>\n\n\t\t\t\t\t\t\t\t<div className={styles.keyAndValue}>\n\t\t\t\t\t\t\t\t\t<div className={styles.key}>{t(\"unlockTime\")}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<p />\n\n\t\t\t\t\t\t\t\t<div className={styles.assetsLabel}>\n\t\t\t\t\t\t\t\t\t<div className={styles.key}>{currentLockedUntil.toLocaleString()}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<p>&nbsp;</p>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tdisabled={amountOfTokenLocked.eq(0) || currentLockedUntil < rightNow}\n\t\t\t\t\t\t\t\t\tonClick={handleWithdraw}>{t(\"Banking.Withdraw\")}</button>\n\t\t\t\t\t\t\t</Tab.Pane>\n\t\t\t\t\t\t</Tab.Content>\n\t\t\t\t\t</Tab.Container>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={styles.column}>\n\t\t\t\t\t<div className={styles.panel}>\n\t\t\t\t\t\t<ScoreLabel\n\t\t\t\t\t\t\ticon=\"/images/tor_icon.png\"\n\t\t\t\t\t\t\ttitle={t(\"totalTorLocked\")}\n\t\t\t\t\t\t\tvalue={formatBigNumber(someData?.mveFilDALocked.shiftedBy(-config.COMP.decimals), globalUtils.normalDecimals) + \" TOR\"}\n\t\t\t\t\t\t\tdescription={<div\n\t\t\t\t\t\t\t\tclassName={styles.scoreDescription}\n\t\t\t\t\t\t\t\tstyle={{ color: \"#FF8E3D\" }}>\n\t\t\t\t\t\t\t\t{t(\"usersPercentLockedTor\", { percent: formatBigNumber(someData?.mveFilDALocked.dividedBy(lockController.totalFildaSupply).dividedBy(100), 9) })}\n\t\t\t\t\t\t\t</div>} />\n\n\t\t\t\t\t\t<p>&nbsp;</p>\n\n\t\t\t\t\t\t<ScoreLabel\n\t\t\t\t\t\t\ticon=\"/images/indicator_icon.png\"\n\t\t\t\t\t\t\ttitle={t(\"avgRemainingLockDuration\")}\n\t\t\t\t\t\t\tvalue={computerDuration(parseInt(someData?.veFildaTotal.dividedBy(someData?.mveFilDALocked).multipliedBy(globalUtils.DAY).multipliedBy(365).multipliedBy(4).toFixed()))} />\n\n\t\t\t\t\t\t<p>&nbsp;</p>\n\n\t\t\t\t\t\t<ScoreLabel\n\t\t\t\t\t\t\ticon=\"/images/tor_icon_purple.png\"\n\t\t\t\t\t\t\ttitle={t(\"totalVeTOR\")}\n\t\t\t\t\t\t\tvalue={formatBigNumber(someData?.veFildaTotal.shiftedBy(-config.COMP.decimals), globalUtils.normalDecimals) + \" \" + lockController.TokenSymbols.VETOKEN} />\n\n\t\t\t\t\t\t<p>&nbsp;</p>\n\n\t\t\t\t\t\t<ScoreLabel\n\t\t\t\t\t\t\ticon=\"/images/vote_icon.png\"\n\t\t\t\t\t\t\ttitle={t(\"totalVetorInVoting\")}\n\t\t\t\t\t\t\tvalue={formatBigNumber(lockController.currentVotingVeTokenSum.plus(lockController.nextVotingVeTokenSum).shiftedBy(-config.COMP.decimals), globalUtils.normalDecimals) + \" \" + lockController.TokenSymbols.TOKEN}\n\t\t\t\t\t\t\tdescription={<div\n\t\t\t\t\t\t\t\tclassName={styles.scoreDescription}\n\t\t\t\t\t\t\t\tstyle={{ color: \"#00D092\" }}>\n\t\t\t\t\t\t\t\t{t(\"usersPercentMiningVeToken\", { percent: 63 })}\n\t\t\t\t\t\t\t</div>} />\n\n\t\t\t\t\t\t<p>&nbsp;</p>\n\n\t\t\t\t\t\t<Link to={\"/\" + language + \"/vote\"}>\n\t\t\t\t\t\t\t<img src=\"/images/vote_button.png\" height=\"58px\" />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={styles.faq}>\n\t\t\t\t\t\t<h2>{t(\"Header.Nav.FAQ\")}</h2>\n\n\t\t\t\t\t\t<p>&nbsp;</p>\n\n\t\t\t\t\t\t<ExpandableLabel\n\t\t\t\t\t\t\tlabel={\"1. \" + t(\"lockFaq1\")}\n\t\t\t\t\t\t\tcontent=\"asdfasdf\" />\n\n\t\t\t\t\t\t<ExpandableLabel label={\"2. \" + t(\"lockFaq2\")} />\n\t\t\t\t\t\t<ExpandableLabel label={\"3. \" + t(\"lockFaq3\")} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t{showLockModal && <LockModal\n\t\t\tlockAction={lockAction}\n\t\t\tamountOfTokenLocked={amountOfTokenLocked}\n\t\t\trawAmountToLock={rawAmountToLock}\n\t\t\tshow={showLockModal}\n\t\t\testimatedVeTokenAmount={estimatedVeTokenAmount}\n\t\t\tunlockOn={unlockOn}\n\t\t\tcurrentLockedUntil={currentLockedUntil}\n\t\t\tonHide={handleCloseLockModal}\n\t\t\tallowance={allowanceByEscrow}\n\t\t\tonTxSent={init} />}\n\t</>;\n}\n\nexport default Lock;"],"sourceRoot":""}