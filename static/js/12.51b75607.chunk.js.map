{"version":3,"sources":["../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/array.js","../node_modules/d3-path/src/path.js","pages/dao/DAO.module.scss","components/progressBar/ProgressBar.module.scss","pages/dao/DAOController.js","../node_modules/d3-shape/src/descending.js","../node_modules/d3-shape/src/identity.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/pie.js","../node_modules/d3-shape/src/arc.js","components/pieChart/PieChart.js","components/progressBar/ProgressBar.js","pages/dao/DAO.js"],"names":["x","Array","prototype","slice","from","pi","Math","PI","tau","tauEpsilon","Path","this","_x0","_y0","_x1","_y1","_","path","constructor","moveTo","y","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","r","x0","y0","x21","y21","x01","y01","l01_2","Error","abs","x20","y20","l21_2","l20_2","l21","sqrt","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","dx","cos","dy","sin","cw","da","rect","w","h","toString","module","exports","DAOController","TokenSymbols","TOKEN","VETOKEN","dataBundle","web3","networkType","nextEpochRewardRate","FRACTION_DIGITS","init","account","now","Date","VeTokenController","lastUpdate","THREE_MINUTES","getGaugeData","gaugeData","getFildaBalance","tokenBalance","getAllowanceByEscrow","allowanceByEscrow","getCurrentLockedAmount","currentLockedAmount","getCurrentLockUntil","currentLockedUntil","someData","vote","gauge","amountToSend","callback","revertCallback","txCallback","a","b","NaN","d","atan2","max","min","halfPi","asin","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","x3","y3","x10","y10","x32","y32","t","cornerTangents","r1","rc","lo","ox","oy","x11","y11","x00","y00","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","PieChart","props","data","colors","indexOfColors","useEffect","allZero","forEach","item","dataKey","pieData","tempObject","label","push","context","document","getElementById","getContext","arcs","value","identity","sortValues","descending","sort","constant","pie","i","j","k","v","n","array","length","sum","index","apply","arguments","p","pa","translate","width","height","map","beginPath","strokeStyle","radius","fillColor","fillStyle","chart","cornerRadius","padRadius","buffer","r0","t0","t1","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","ax","ay","bx","by","kc","lc","centroid","fill","pos","stroke","font","fontSize","textAlign","offsetX","offsetY","fillText","symbol","id","ProgressBar","percent","className","styles","ProgressBarLayout","progress","style","nextEpochTimer","VoteModal","show","onHide","onTxSent","market","indexOfSelectedGauge","useTranslation","currentPower","useContext","LanguageContext","language","gaugeController","voteUserSlopesPower","useState","txnHash","setTxHash","globalUtils","TransactionStatus","IDLE","txStatus","setTxStatus","errorMessage","setErrorMessage","percentToVote","setPercentToVote","voteView","modalBody","key","disabled","controlId","inputValue","onChange","event","console","log","currentTarget","val","Number","isNaN","toggleButtonOnChange","showToggleButton","labelFullWidth","modalButtons","onClick","IN_PROGRESS","receipt","SUCCESS","error","FAILURE","message","hash","loadingView","type","title","failureView","content","lockSuccessView","okText","handleOk","Modal","aria-labelledby","lockModal","centered","Header","closeButton","modalTitle","src","logo","Body","view","switchView","DAO","rightNow","connectedAddress","WalletAddressContext","Web3Context","NetworkTypeContext","zero","setGaugeData","currentWeightPie","setCurrentWeightPie","setCurrentLockedUntil","setSomeData","countDown","setCountDown","showVoteModal","setShowVoteModal","indexOfGaugeToVote","setIndexOfGaugeToVote","NA","savingsBalance","FetchData","getSavingsBalance","then","response","savingsBalanceFormatted","savingsBalanceFiat","savingsCTokenBalance","chainId","w3","countZero","end","diff","getTime","days","trunc","hours","minutes","seconds","endOfEpoch","nextEpochTime","setInterval","arr","nextEpochRelativeWeight","toNumber","toFixed","makeNextWeightPie","getLogoWithGauge","gaugeSymbol","find","handleVote","parseInt","dataTable","tableContainer","number","tips","vault","myVoted","formatBigNumber","veFilDABalance","multipliedBy","dividedBy","shiftedBy","normalDecimals","currentEpochRelativeWeight","toLocaleString","maximumFractionDigits","getSavingWithGauge","smallButtonBordred","lockLayout","description","intro","introContent","leftPane","scoreBG","titleLabel","titleLabelKey","titleLabelValue","config","COMP","decimals","to","buttonFitContent","descriptionList","rightPane","canvasContainer","chartInfo","countDownBar","countDownValues","years","countDownValue"],"mappings":"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","file":"static/js/12.51b75607.chunk.js","sourcesContent":["export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabStyle\":\"DAO_tabStyle__1csvQ\",\"lockLayout\":\"DAO_lockLayout__3w7lG\",\"title\":\"DAO_title__2-9-l\",\"description\":\"DAO_description__2nsLz\",\"intro\":\"DAO_intro__1_fKF\",\"introContent\":\"DAO_introContent__2-lFR\",\"leftPane\":\"DAO_leftPane__2W-Yf\",\"scoreBG\":\"DAO_scoreBG__3V6Lg\",\"titleLabel\":\"DAO_titleLabel__1JuGL\",\"titleLabelKey\":\"DAO_titleLabelKey__1L85p\",\"titleLabelValue\":\"DAO_titleLabelValue__2G8_h\",\"descriptionList\":\"DAO_descriptionList__2pSXX\",\"rightPane\":\"DAO_rightPane__1zsLC\",\"chartInfo\":\"DAO_chartInfo__3EUlE\",\"canvasContainer\":\"DAO_canvasContainer__137F4\",\"content\":\"DAO_content__2X5Ow\",\"countDownBar\":\"DAO_countDownBar__lrbxU\",\"countDownValues\":\"DAO_countDownValues__3JeaI\",\"countDownValue\":\"DAO_countDownValue__21A6G\",\"tableContainer\":\"DAO_tableContainer__18iUx\",\"number\":\"DAO_number__2ZiGM\",\"label\":\"DAO_label__xcjPx\",\"tips\":\"DAO_tips__HrsqW\",\"rowContainer\":\"DAO_rowContainer__8bjSf\",\"panel\":\"DAO_panel__Ycxwa\",\"tabPane\":\"DAO_tabPane__2cXcu\",\"keyAndValue\":\"DAO_keyAndValue__1kHkd\",\"key\":\"DAO_key__2u1-3\",\"assetsLabel\":\"DAO_assetsLabel__38ouM\",\"buttonBordred\":\"DAO_buttonBordred__2wgXd\",\"scoreLabelLayout\":\"DAO_scoreLabelLayout__1NbXd\",\"info\":\"DAO_info__q5VL1\",\"infoTitle\":\"DAO_infoTitle__PtiHr\",\"infoValue\":\"DAO_infoValue__YlX0O\",\"scoreDescription\":\"DAO_scoreDescription__1Mge2\",\"expandableLabelLayout\":\"DAO_expandableLabelLayout__gQ7j6\",\"text\":\"DAO_text__2nMIF\",\"icon\":\"DAO_icon__2-9qY\",\"expandableContent\":\"DAO_expandableContent__3_rUB\",\"poolListItem\":\"DAO_poolListItem__30AA7\",\"poolListItemLeftLabel\":\"DAO_poolListItemLeftLabel__s6Jm9\",\"poolListItemTitle\":\"DAO_poolListItemTitle__3mjd3\",\"poolListItemRightLabel\":\"DAO_poolListItemRightLabel__3c4bf\",\"lockModal\":\"DAO_lockModal__2h6pG\",\"modal-dialog\":\"DAO_modal-dialog__Zaspz\",\"modal-content\":\"DAO_modal-content__3yT6E\",\"modalTitle\":\"DAO_modalTitle__3lKxZ\",\"modalBodyCenter\":\"DAO_modalBodyCenter__3Nj15\",\"modalBody\":\"DAO_modalBody__2VoEq\",\"value\":\"DAO_value__TOz85\",\"labelFullWidth\":\"DAO_labelFullWidth__2JvPA\",\"modalButtons\":\"DAO_modalButtons__1YSg6\",\"buttonFitContent\":\"DAO_buttonFitContent__13IUE\",\"smallButtonBordred\":\"DAO_smallButtonBordred__3urO9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProgressBarLayout\":\"ProgressBar_ProgressBarLayout__2rQVj\",\"progress\":\"ProgressBar_progress__KbGph\"};","import { VeTokenController } from \"../../lib/VeTokenController\";\n\nexport const DAOController = {\n\tTokenSymbols: {\n\t\tTOKEN: \"TOR\",\n\t\tVETOKEN: \"veTOR\",\n\t},\n\tdataBundle: null,\n\tweb3: null,\n\tnetworkType: null,\n\tnextEpochRewardRate: 0,\n\tFRACTION_DIGITS: 3,\n\tinit: async function (networkType, web3, account) {\n\t\tthis.networkType = networkType;\n\t\tthis.web3 = web3;\n\n\t\tconst now = new Date();\n\t\tif (!VeTokenController.lastUpdate || (now - VeTokenController.lastUpdate) > this.THREE_MINUTES || !this.dataBundle) {\n\t\t\tawait VeTokenController.init(networkType, web3, account);\n\t\t\tconst gaugeData = await VeTokenController.getGaugeData();\n\t\t\tconst tokenBalance = await VeTokenController.getFildaBalance();\n\t\t\tconst allowanceByEscrow = await VeTokenController.getAllowanceByEscrow();\n\t\t\tconst currentLockedAmount = await VeTokenController.getCurrentLockedAmount();\n\t\t\tconst currentLockedUntil = await VeTokenController.getCurrentLockUntil() ?? null;\n\t\t\tconst someData = VeTokenController.someData;\n\t\t\tthis.dataBundle = {\n\t\t\t\tgaugeData,\n\t\t\t\ttokenBalance,\n\t\t\t\tallowanceByEscrow,\n\t\t\t\tcurrentLockedAmount,\n\t\t\t\tcurrentLockedUntil,\n\t\t\t\tsomeData\n\t\t\t};\n\t\t}\n\n\t\t// this.totalFildaSupply = VeTokenController.totalFildaSupply;\n\t\t// this.currentVotingVeTokenSum = VeTokenController.currentVotingVeTokenSum;\n\t\t// this.nextVotingVeTokenSum = VeTokenController.nextVotingVeTokenSum;\n\t\tthis.nextEpochRewardRate = VeTokenController.nextEpochRewardRate;\n\n\t\treturn this.dataBundle;\n\t},\n\tvote: function (gauge, amountToSend, callback, revertCallback, txCallback) {\n\t\treturn VeTokenController.vote(gauge, amountToSend, callback, revertCallback, txCallback);\n\t}\n};","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","import React, { useEffect } from \"react\";\nimport { arc, pie } from 'd3-shape';\n\nconst PieChart = props => {\n\tconst data = props.data;\n\tconst colors = [\"#14D89d\", \"#FFA978\", \"#7C90F7\", \"#7E54F6\", \"#EE83D5\", \"#F3EC7F\"]\n\tlet indexOfColors = 0;\n\n\tuseEffect(() => {\n\t\tlet allZero = true;\n\t\tdata.forEach(item => {\n\t\t\tif (item[props.dataKey] > 0) {\n\t\t\t\tallZero = false\n\t\t\t}\n\t\t});\n\n\t\tlet pieData = [];\n\t\tif (allZero) {\n\t\t\tconst tempObject = { label: \"\" };\n\t\t\ttempObject[props.dataKey] = 3.14159265;\n\t\t\tpieData.push(tempObject);\n\t\t} else {\n\t\t\tpieData = data;\n\t\t}\n\n\t\tconst te = document.getElementById(props.dataKey + \"-pie\");\n\t\tconst context = te.getContext(\"2d\");\n\n\t\tconst arcs = pie().value(d => d[props.dataKey])(pieData);\n\n\t\tcontext.translate(props.width / 2, props.height / 2);\n\t\tarcs.map(item => {\n\t\t\tif (item.value <= 0.001) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcontext.beginPath();\n\t\t\tcontext.strokeStyle = \"rgba(0,0,0,0)\";\n\n\t\t\tconst radius = [20, 70];\n\t\t\tlet fillColor = colors[indexOfColors];\n\t\t\tif (item.value === 3.14159265) {\n\t\t\t\tradius[0] = 68;\n\t\t\t\tfillColor = \"rgba(255, 255, 255, 0.3)\"\n\t\t\t}\n\n\t\t\tcontext.fillStyle = fillColor;\n\t\t\tconst chart = arc().context(context).innerRadius(radius[0]).outerRadius(radius[1]).padAngle(0.03);\n\n\t\t\tchart(item);\n\t\t\tcontext.closePath();\n\t\t\tcontext.fill();\n\n\t\t\tif (item.data.label) {\n\t\t\t\tconst pos = chart.centroid(item);\n\n\t\t\t\tcontext.beginPath();\n\t\t\t\tcontext.strokeStyle = \"white\";\n\t\t\t\tcontext.moveTo(pos[0] * 1.8, pos[1] * 1.8);\n\t\t\t\tcontext.lineTo(pos[0] * 2.2, pos[1] * 2.2);\n\t\t\t\tcontext.closePath();\n\t\t\t\tcontext.stroke();\n\n\t\t\t\tconst fontSize = 12;\n\t\t\t\tcontext.font = fontSize + \"px Arial\";\n\t\t\t\tcontext.fillStyle = \"white\";\n\t\t\t\tcontext.textAlign = pos[0] > 0 ? \"left\" : \"right\";\n\t\t\t\tconst offsetX = pos[0] > 0 ? fontSize : -fontSize;\n\t\t\t\tconst offsetY = pos[1] < 0 ? 0 : 2 * fontSize;\n\t\t\t\tcontext.fillText(item.data.symbol, pos[0] * 2.2 + offsetX, pos[1] * 2.2 + offsetY - fontSize * 1.2);\n\t\t\t\tcontext.fillText(item.data.label, pos[0] * 2.2 + offsetX, pos[1] * 2.2 + offsetY);\n\t\t\t}\n\n\t\t\tindexOfColors++;\n\t\t\tif (indexOfColors >= colors.length) {\n\t\t\t\tindexOfColors = 0;\n\t\t\t}\n\t\t});\n\t}, []);\n\n\treturn (<canvas id={props.dataKey + \"-pie\"} width={props.width} height={props.height} />);\n};\n\nexport default PieChart;","import React from \"react\";\nimport styles from \"./ProgressBar.module.scss\";\n\nexport const ProgressBar = ({ percent = 0 }) => {\n\treturn <div className={styles.ProgressBarLayout}>\n\t\t<div className={styles.progress} style={{ width: percent + \"%\" }} />\n\t</div>\n};","import React, { useContext, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\nimport { LanguageContext, NetworkTypeContext, WalletAddressContext, Web3Context } from \"../../context\";\nimport config from \"../../utils/config\";\nimport { globalUtils } from \"../../utils/globalUtils\";\nimport { formatBigNumber } from \"../../utils/numberFormat\";\nimport styles from \"./DAO.module.scss\";\nimport { DAOController } from \"./DAOController\";\nimport PieChart from \"../../components/pieChart/PieChart\";\nimport FetchData from \"../../methods/FetchData\";\nimport { Modal } from \"react-bootstrap\";\nimport { ModalInput, ModalSucAndFail } from '../../components/littleComponents';\nimport { ProgressBar } from \"../../components/progressBar/ProgressBar\";\n\nlet nextEpochTimer = null;\n\nconst VoteModal = ({\n\tshow = false,\n\tonHide = null,\n\tonTxSent = null,\n\tmarket = null,\n\tgaugeData = null,\n\tindexOfSelectedGauge = -1\n}) => {\n\tconst { t } = useTranslation();\n\tconst { language } = useContext(LanguageContext);\n\tconst currentPower = gaugeData[indexOfSelectedGauge].gaugeController.voteUserSlopesPower;\n\tconst [txnHash, setTxHash] = useState(\"\");\n\tconst [txStatus, setTxStatus] = useState(globalUtils.TransactionStatus.IDLE);\n\tconst [errorMessage, setErrorMessage] = useState(\"\");\n\tconst [percentToVote, setPercentToVote] = useState(currentPower);\n\n\tconst handleInput = event => {\n\t\tconsole.log(\"handleInput\", event.currentTarget.value)\n\t\tconst val = Number(event.currentTarget.value);\n\t\tif (!isNaN(val) && val >= currentPower) {\n\t\t\tsetPercentToVote(val);\n\t\t}\n\t};\n\n\tconst handleToggle = value => {\n\t\tconst val = value * 100;\n\t\tif (val >= currentPower) {\n\t\t\tsetPercentToVote(val);\n\t\t}\n\t};\n\n\tconst handleVote = event => {\n\t\tsetTxStatus(globalUtils.TransactionStatus.IN_PROGRESS);\n\n\t\tDAOController.vote(\n\t\t\tgaugeData[indexOfSelectedGauge],\n\t\t\tpercentToVote,\n\t\t\treceipt => {\n\t\t\t\tsetTxStatus(globalUtils.TransactionStatus.SUCCESS);\n\t\t\t\tif (onTxSent) {\n\t\t\t\t\tonTxSent();\n\t\t\t\t}\n\t\t\t},\n\t\t\t(error, receipt) => {\n\t\t\t\tsetTxStatus(globalUtils.TransactionStatus.FAILURE);\n\t\t\t\tsetErrorMessage(error.message)\n\t\t\t},\n\t\t\thash => {\n\t\t\t\tsetTxHash(hash);\n\t\t\t}\n\t\t);\n\t};\n\n\tconst voteView = <div className={styles.modalBody}>\n\t\t<div className={styles.key}>{t(\"votingProportion\")}</div>\n\n\t\t<p>&nbsp;</p>\n\n\t\t<ModalInput\n\t\t\tdisabled={false}\n\t\t\tcontrolId=\"formVote\"\n\t\t\tinputValue={percentToVote}\n\t\t\tonChange={handleInput}\n\t\t\ttoggleButtonOnChange={handleToggle}\n\t\t\tshowToggleButton />\n\n\t\t<p>&nbsp;</p>\n\n\t\t<div className={styles.labelFullWidth}>{t(\"votingPowerUsed\")}:&nbsp;{currentPower}%</div>\n\n\t\t<p />\n\n\t\t<ProgressBar percent={currentPower} />\n\n\t\t<p />\n\n\t\t<div className={styles.modalButtons}>\n\t\t\t<button onClick={handleVote}>{t(\"Banking.Boost\")}</button>\n\t\t</div>\n\t</div>;\n\n\tconst loadingView = <>\n\t\t<p>&nbsp;</p>\n\t\t<ModalSucAndFail\n\t\t\ttype=\"loading\"\n\t\t\ttxnHash={txnHash}\n\t\t\ttitle={t('CommonModal.PleaseWait')} />\n\t\t<p>&nbsp;</p>\n\t</>\n\n\tconst failureView = <>\n\t\t<p>&nbsp;</p>\n\t\t<ModalSucAndFail\n\t\t\ttype=\"error\"\n\t\t\ttxnHash={txnHash}\n\t\t\tcontent={errorMessage} />\n\t\t<p>&nbsp;</p>\n\t</>\n\n\tconst lockSuccessView = <>\n\t\t<p>&nbsp;</p>\n\t\t<ModalSucAndFail\n\t\t\ttype=\"success\"\n\t\t\ttxnHash={txnHash}\n\t\t\ttitle={t('votedSuccessfully')}\n\t\t\tokText={t(\"voteForOtherPools\")}\n\t\t\thandleOk={onHide} />\n\t\t<p>&nbsp;</p>\n\t</>\n\n\tconst switchView = () => {\n\t\tlet view = null;\n\t\tswitch (txStatus) {\n\t\t\tcase globalUtils.TransactionStatus.IN_PROGRESS:\n\t\t\t\tview = loadingView;\n\t\t\t\tbreak;\n\n\t\t\tcase globalUtils.TransactionStatus.SUCCESS:\n\t\t\t\tview = lockSuccessView;\n\t\t\t\tbreak;\n\n\t\t\tcase globalUtils.TransactionStatus.FAILURE:\n\t\t\t\tview = failureView;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tview = voteView;\n\t\t\t\tbreak;\n\t\t}\n\t\treturn view;\n\t};\n\n\treturn <Modal\n\t\tshow={show}\n\t\tonHide={onHide}\n\t\taria-labelledby=\"contained-modal-title-vcenter\"\n\t\tclassName={styles.lockModal}\n\t\tcentered>\n\t\t<Modal.Header closeButton>\n\t\t\t<div className={styles.modalTitle}>\n\t\t\t\t<img src={market?.logo} width=\"24px\" />\n\t\t\t\t<span>&nbsp;{market?.symbol}&nbsp;{t(\"pool\")}</span>\n\t\t\t</div>\n\t\t</Modal.Header>\n\n\t\t<Modal.Body>\n\t\t\t{switchView()}\n\t\t</Modal.Body>\n\t</Modal>;\n};\n\nconst DAO = props => {\n\tconst rightNow = new Date();\n\tconst { t } = useTranslation();\n\tconst { language } = useContext(LanguageContext);\n\tconst { connectedAddress } = useContext(WalletAddressContext);\n\tconst { web3 } = useContext(Web3Context);\n\tconst { networkType } = useContext(NetworkTypeContext);\n\tconst [votingPower, setVotingPower] = useState(globalUtils.zero);\n\tconst [gaugeData, setGaugeData] = useState(null);\n\tconst [currentWeightPie, setCurrentWeightPie] = useState(null);\n\tconst [currentLockedUntil, setCurrentLockedUntil] = useState(rightNow);\n\tconst [someData, setSomeData] = useState(null);\n\tconst [countDown, setCountDown] = useState(null);\n\tconst [showVoteModal, setShowVoteModal] = useState(false);\n\tconst [indexOfGaugeToVote, setIndexOfGaugeToVote] = useState(-1);\n\n\tconst getSavings = () => {\n\t\tprops.data.map((market, index) => {\n\t\t\tif (!market.savingsBalance) {\n\t\t\t\tFetchData.getSavingsBalance(web3, connectedAddress, networkType, market).then(response => {\n\t\t\t\t\tmarket.savingsBalance = response.savingsBalance\n\t\t\t\t\tmarket.savingsBalanceFormatted = response.savingsBalanceFormatted\n\t\t\t\t\tmarket.savingsBalanceFiat = response.savingsBalanceFiat\n\t\t\t\t\tmarket.savingsCTokenBalance = response.savingsCTokenBalance\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (props.data && networkType && web3 && connectedAddress != globalUtils.NA) {\n\t\t\tgetSavings();\n\t\t}\n\t}, [props.data, networkType, web3, connectedAddress]);\n\n\tconst makeCurrentWeightPie = () => {\n\t\tconst arr = gaugeData?.map(item => {\n\t\t\treturn {\n\t\t\t\tsymbol: item.symbol,\n\t\t\t\tcurrentEpochRelativeWeight: item.currentEpochRelativeWeight.toNumber(),\n\t\t\t\tlabel: item.currentEpochRelativeWeight.toFixed(2) + \"%\"\n\t\t\t};\n\t\t});\n\t\treturn setCurrentWeightPie(<PieChart\n\t\t\tdata={arr}\n\t\t\tdataKey=\"currentEpochRelativeWeight\"\n\t\t\twidth={320}\n\t\t\theight={300} />);\n\t};\n\n\tconst makeNextWeightPie = () => {\n\t\tconst arr = [];\n\t\tgaugeData.map(item => arr.push({\n\t\t\tsymbol: item.symbol,\n\t\t\tnextEpochRelativeWeight: item.nextEpochRelativeWeight.toNumber(),\n\t\t\tlabel: item.nextEpochRelativeWeight.toFixed(2) + \"%\"\n\t\t}))\n\t\treturn setCurrentWeightPie(<PieChart\n\t\t\tdata={arr}\n\t\t\tdataKey=\"nextEpochRelativeWeight\"\n\t\t\twidth={320}\n\t\t\theight={300} />);\n\t};\n\n\tconst init = () => {\n\t\tconst init = async (chainId, w3, account) => {\n\t\t\tconst dataBundle = await DAOController.init(chainId, w3, account);\n\t\t\tconsole.log(\"dataBundle:\", dataBundle);\n\n\t\t\tsetGaugeData(dataBundle.gaugeData);\n\t\t\tsetCurrentLockedUntil(dataBundle.currentLockedUntil);\n\t\t\tsetSomeData(dataBundle.someData);\n\t\t};\n\n\t\tif (networkType && web3 && connectedAddress != globalUtils.NA) {\n\t\t\tinit(networkType, web3, connectedAddress);\n\t\t}\n\t};\n\n\tconst countZero = end => {\n\t\tconst now = new Date().getTime() / 1000;\n\n\t\tconst diff = end - now;\n\t\tif (diff <= 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst days = Math.trunc(diff / 86400);\n\t\tconst hours = Math.trunc((diff - (86400 * days)) / 3600);\n\t\tconst minutes = Math.trunc((diff - (days * 86400 + hours * 3600)) / 60);\n\t\tconst seconds = Math.trunc(diff - (days * 86400 + hours * 3600 + minutes * 60));\n\t\treturn { days, hours, minutes, seconds };\n\t};\n\n\tconst timeDiff = end => {\n\t\tconst count0 = countZero(end);\n\t\tif (!count0) {\n\t\t\treturn window.location.reload();\n\t\t}\n\n\t\tlet days = count0.days;\n\t\tlet hours = count0.hours;\n\t\tlet minutes = count0.minutes;\n\t\tlet seconds = count0.seconds;\n\t\tlet diffString = '';\n\n\t\tif (days) {\n\t\t\tdiffString += `${days}d`;\n\t\t}\n\n\t\tif (hours) {\n\t\t\tdiffString += ` ${hours}h`;\n\t\t}\n\n\t\tif (minutes) {\n\t\t\tdiffString += ` ${minutes}m`;\n\t\t}\n\n\t\tif (seconds) {\n\t\t\tdiffString += ` ${seconds}s`;\n\t\t}\n\n\t\treturn diffString;\n\t};\n\n\tconst countInterval = (endOfEpoch, endOfLocking) => {\n\t\tnextEpochTimer = setInterval(() => {\n\t\t\tsetCountDown(countZero(endOfEpoch));\n\t\t}, 1000);\n\t};\n\n\tuseEffect(() => {\n\t\tif (!someData) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!nextEpochTimer && someData.nextEpochTime > 0) {\n\t\t\tcountInterval(someData.nextEpochTime, currentLockedUntil);\n\t\t}\n\n\t\t// makeCurrentWeightPie();\n\t\tmakeNextWeightPie();\n\t}, [someData, currentLockedUntil]);\n\n\tuseEffect(() => {\n\t\tinit()\n\t}, [networkType, web3, connectedAddress]);\n\n\tconst getLogoWithGauge = gaugeSymbol => {\n\t\tconst market = props.data.find(item => (item.symbol === gaugeSymbol));\n\t\treturn market?.logo;\n\t};\n\n\tconst getSavingWithGauge = gaugeSymbol => {\n\t\tconst market = props.data.find(item => (item.symbol === gaugeSymbol));\n\t\tif (market) {\n\t\t\treturn market.savingsBalanceFormatted?.toLocaleString(\"en-US\", { maximumFractionDigits: globalUtils.normalDecimals });\n\t\t} else {\n\t\t\treturn \"0\";\n\t\t}\n\t};\n\n\tconst handleVote = event => {\n\t\tsetShowVoteModal(true)\n\t\tsetIndexOfGaugeToVote(parseInt(event.currentTarget.id));\n\t};\n\n\tconst handleCloseLockModal = () => {\n\t\tsetShowVoteModal(false);\n\t}\n\n\tconst dataTable = <div className={styles.tableContainer}>\n\t\t<table>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>{t(\"pool\")}</th>\n\n\t\t\t\t\t<th className={styles.number}>\n\t\t\t\t\t\t<div>{t(\"gaugeWeight\")}</div>\n\t\t\t\t\t\t<div className={styles.tips}>({t(\"MarketDetail.InterestRateModel.Current\")}&nbsp;→&nbsp;{t(\"future\")})</div>\n\t\t\t\t\t</th>\n\n\t\t\t\t\t<th className={styles.number}>\n\t\t\t\t\t\t<div>{t(\"supplyPosition\")}</div>\n\t\t\t\t\t</th>\n\n\t\t\t\t\t<th className={styles.number}>\n\t\t\t\t\t\t<div>{t(\"myVotes\")}</div>\n\t\t\t\t\t</th>\n\n\t\t\t\t\t<th className={styles.number}>\n\t\t\t\t\t\t<div>{t(\"myVotingProportion\")}</div>\n\t\t\t\t\t\t<div className={styles.tips}>({t(\"future\")})</div>\n\t\t\t\t\t</th>\n\n\t\t\t\t\t<th className={styles.number}></th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\n\t\t\t<tbody>\n\t\t\t\t{gaugeData && gaugeData.map((vault, index) => {\n\t\t\t\t\tconst myVoted = formatBigNumber(someData?.veFilDABalance.multipliedBy(vault.gaugeController.voteUserSlopesPower).dividedBy(100).shiftedBy(-18), globalUtils.normalDecimals);\n\n\t\t\t\t\treturn (<tr key={vault.symbol}>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<img src={getLogoWithGauge(vault.symbol)} height=\"32px\" />\n\t\t\t\t\t\t\t<span>&nbsp;{vault.symbol}</span>\n\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t<td className={styles.number}>\n\t\t\t\t\t\t\t<div className={styles.label}>{t(\"gaugeWeight\")}</div>\n\t\t\t\t\t\t\t{formatBigNumber(vault.currentEpochRelativeWeight, 2) + \"% → \" + formatBigNumber(vault.nextEpochRelativeWeight, 2) + \"%\"}\n\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t<td className={styles.number}>\n\t\t\t\t\t\t\t<div className={styles.label}>{t(\"supplyPosition\")}</div>\n\t\t\t\t\t\t\t{getSavingWithGauge(vault.symbol)}\n\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t<td className={styles.number}>\n\t\t\t\t\t\t\t<div className={styles.label}>{t(\"myVotes\")}</div>\n\t\t\t\t\t\t\t{myVoted}\n\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t<td className={styles.number}>\n\t\t\t\t\t\t\t<div className={styles.label}>{t(\"myVotingProportion\")}</div>\n\t\t\t\t\t\t\t{vault.gaugeController.voteUserSlopesPower.toFixed() + \"%\"}\n\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t<td className={styles.number}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tid={index}\n\t\t\t\t\t\t\t\tclassName={styles.smallButtonBordred}\n\t\t\t\t\t\t\t\tonClick={handleVote}>{t(\"vote\")}</button>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>);\n\t\t\t\t})}\n\t\t\t</tbody>\n\t\t</table>\n\t</div>;\n\n\treturn <>\n\t\t<div className={styles.lockLayout}>\n\t\t\t<div className={styles.title}>\n\t\t\t\t<h1>{t(\"gaugeWeightVote\")}</h1>\n\t\t\t\t<div className={styles.description}>{t(\"daoDescription\")}</div>\n\t\t\t</div>\n\n\t\t\t<div className={styles.intro}>\n\t\t\t\t<div className={styles.introContent}>\n\t\t\t\t\t<div className={styles.leftPane}>\n\t\t\t\t\t\t<div className={styles.scoreBG}>\n\t\t\t\t\t\t\t<div className={styles.titleLabel}>\n\t\t\t\t\t\t\t\t<img src=\"/images/tor_icon_purple_big.png\" width=\"48px\" />\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className={styles.titleLabelKey}>{t(\"votingPower\")}({DAOController.TokenSymbols.VETOKEN})</div>\n\t\t\t\t\t\t\t\t\t<div className={styles.titleLabelValue}>{someData ? formatBigNumber(someData.veFilDABalance.shiftedBy(-config.COMP.decimals), globalUtils.normalDecimals) : 0}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={\"/\" + language + \"/lock\"}\n\t\t\t\t\t\t\t\tclassName={styles.buttonFitContent}>{t(\"getVeTOR\")}</Link>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<p />\n\n\t\t\t\t\t\t<div className={styles.descriptionList}>\n\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t<li>{t(\"voteDescriptionList.item1\")}</li>\n\t\t\t\t\t\t\t\t<li>{t(\"voteDescriptionList.item2\")}</li>\n\t\t\t\t\t\t\t\t<li>{t(\"voteDescriptionList.item3\")}</li>\n\t\t\t\t\t\t\t\t<li>{t(\"voteDescriptionList.item4\")}</li>\n\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={styles.rightPane}>\n\t\t\t\t\t\t<div className={styles.canvasContainer}>\n\t\t\t\t\t\t\t{gaugeData && currentWeightPie}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className={styles.chartInfo}>\n\t\t\t\t\t\t\t<img src=\"/images/info_orange.png\" width=\"16px\" />\n\t\t\t\t\t\t\t<span>{t(\"voteChartInfo\")}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className={styles.content}>\n\t\t\t\t<div className={styles.countDownBar}>\n\t\t\t\t\t<img src=\"/images/timer.png\" width=\"20px\" />\n\t\t\t\t\t<span>&nbsp;{t(\"gaugeWeightVoting\")}:&nbsp;</span>\n\n\t\t\t\t\t<div className={styles.countDownValues}>\n\t\t\t\t\t\t{countDown?.years && <>\n\t\t\t\t\t\t\t<span className={styles.countDownValue}>{countDown.years}</span>\n\t\t\t\t\t\t\t<span>&nbsp;{t(\"years\")}&nbsp;</span>\n\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t{countDown?.days && <>\n\t\t\t\t\t\t\t<span className={styles.countDownValue}>{countDown.days}</span>\n\t\t\t\t\t\t\t<span>&nbsp;{t(\"days\")[0]}&nbsp;</span>\n\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t{countDown?.hours && <>\n\t\t\t\t\t\t\t<span className={styles.countDownValue}>{countDown.hours}</span>\n\t\t\t\t\t\t\t<span>&nbsp;{t(\"hours\")[0]}&nbsp;</span>\n\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t{countDown?.minutes && <>\n\t\t\t\t\t\t\t<span className={styles.countDownValue}>{countDown.minutes}</span>\n\t\t\t\t\t\t\t<span>&nbsp;{t(\"minutes\")[0]}&nbsp;</span>\n\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t{countDown?.seconds && <>\n\t\t\t\t\t\t\t<span className={styles.countDownValue}>{countDown.seconds}</span>\n\t\t\t\t\t\t\t<span>&nbsp;{t(\"seconds\")[0]}</span>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{dataTable}\n\t\t\t</div>\n\t\t</div>\n\n\t\t{showVoteModal && <VoteModal\n\t\t\tshow={showVoteModal}\n\t\t\tonHide={handleCloseLockModal}\n\t\t\tonTxSent={init}\n\t\t\tmarket={props.data.find(item => item.symbol === gaugeData[indexOfGaugeToVote].symbol)}\n\t\t\tgaugeData={gaugeData}\n\t\t\tindexOfSelectedGauge={indexOfGaugeToVote} />}\n\t</>;\n};\n\nexport default DAO;"],"sourceRoot":""}