/*! For license information please see 1.5400739a.chunk.js.LICENSE.txt */
(this["webpackJsonpTorches-web-app"]=this["webpackJsonpTorches-web-app"]||[]).push([[1],{1188:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o}));n(16);var r=function(t,e){return isNaN(t)||null===t?"0":("number"===typeof t?t:t.toNumber()).toLocaleString("en-US",{maximumFractionDigits:null!==e&&void 0!==e?e:20})},a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=new RegExp("^(\\d)+(\\.(\\d){1,"+e+"})?$");return n.test(t)?t:t.toFixed(e)},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:18;return new RegExp("^\\d*(\\.\\d{0,"+t+"})?$")}},1192:function(t,e,n){"use strict";var r=n(5),a=n(16),o=n(36),i=n(9);function c(){c=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(T){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return N()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,i),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=l;var d={};function p(){}function m(){}function f(){}var h={};s(h,a,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(j([])));b&&b!==e&&n.call(b,a)&&(h=b);var g=f.prototype=p.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var r;this._invoke=function(a,o){function i(){return new e((function(r,i){!function r(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(d).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=f,s(g,"constructor",f),s(f,"constructor",m),m.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new w(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var s=function(){var t=Object(r.a)(c().mark((function t(e,n,r,i){var s,l,u,d,p,m,f,h,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=i.ABI,l=i.network[r].address,t.next=4,new e.eth.Contract(s,l);case 4:return u=t.sent,d=i.qToken.network[r].address,p=new a.BigNumber(2).pow(256).minus(1),t.next=9,o.a.getGasInfo(e);case 9:return m=t.sent,f=p.toString(10),h={from:n},t.next=14,o.a.recomputeGas(u.methods.approve(d,f),h,m,r);case 14:return h=t.sent,t.next=17,u.methods.approve(d,f).send(h);case 17:return v=t.sent,t.abrupt("return",v);case 19:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),l=function(){var t=Object(r.a)(c().mark((function t(e,n,r,s){var l,u,d,p,m,f,h,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=s.ABI,u=s.network[r].address,t.next=4,new e.eth.Contract(l,u);case 4:return d=t.sent,p=new a.BigNumber(2).pow(256).minus(1),t.next=8,o.a.getGasInfo(e);case 8:return m=t.sent,f=p.toString(10),h={from:n},t.next=13,o.a.recomputeGas(d.methods.approve(i.a.SwapRepayContract[r],f),h,m,r);case 13:return h=t.sent,t.next=16,d.methods.approve(i.a.SwapRepayContract[r],f).send(h);case 16:return v=t.sent,t.abrupt("return",v);case 18:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),u=function(){var t=Object(r.a)(c().mark((function t(e,n,r,s){var l,u,d,p,m,f,h,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=s.qToken.ABI,u=s.qToken.network[r].address,t.next=4,new e.eth.Contract(l,u);case 4:return d=t.sent,p=new a.BigNumber(2).pow(256).minus(1),t.next=8,o.a.getGasInfo(e);case 8:return m=t.sent,f=p.toString(10),h={from:n},t.next=13,o.a.recomputeGas(d.methods.approve(i.a.DepositRepayContract[r],f),h,m,r);case 13:return h=t.sent,t.next=16,d.methods.approve(i.a.DepositRepayContract[r],f).send(h);case 16:return v=t.sent,t.abrupt("return",v);case 18:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),d=function(){var t=Object(r.a)(c().mark((function t(e,n,r,s){var l,u,d,p,m,f,h,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=s.qToken.ABI,u=s.qToken.network[r].address,t.next=4,new e.eth.Contract(l,u);case 4:return d=t.sent,p=new a.BigNumber(2).pow(256).minus(1),t.next=8,o.a.getGasInfo(e);case 8:return m=t.sent,f=p.toString(10),h={from:n},t.next=13,o.a.recomputeGas(d.methods.approve(i.a.DepositSwapContract[r],f),h,m,r);case 13:return h=t.sent,t.next=16,d.methods.approve(i.a.DepositSwapContract[r],f).send(h);case 16:return v=t.sent,t.abrupt("return",v);case 18:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),p=function(){var t=Object(r.a)(c().mark((function t(e,n,r,s){var l,u,d,p,m,f,h,v,b,g,y=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=y.length>4&&void 0!==y[4]?y[4]:"v1",u=s.ABI,d=s.network[r].address,t.next=5,new e.eth.Contract(u,d);case 5:return p=t.sent,m=new a.BigNumber(2).pow(256).minus(1),t.next=9,o.a.getGasInfo(e);case 9:return f=t.sent,h="v1"===l?i.a.LiquidateContract[r]:s.qToken.network[r].address,v=m.toString(10),b={from:n},t.next=15,o.a.recomputeGas(p.methods.approve(h,v),b,f,r);case 15:return b=t.sent,t.next=18,p.methods.approve(h,v).send(b);case 18:return g=t.sent,t.abrupt("return",g);case 20:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}();e.a={approveERC20:s,approveSwapRepayERC20:l,approveLiquidateERC20:p,approveDepositRepayERC20:u,approveDepositSwapERC20:d}},1221:function(t,e,n){"use strict";var r=n(2),a=n(14),o=n(10),i=n.n(o),c=n(0),s=n(18),l=n(8),u=["bsPrefix","className","as"],d=c.forwardRef((function(t,e){var n=t.bsPrefix,o=t.className,c=t.as,d=void 0===c?"div":c,p=Object(a.a)(t,u),m=Object(s.b)(n,"row"),f=Object(s.a)(),h="".concat(m,"-cols"),v=[];return f.forEach((function(t){var e,n=p[t];delete p[t],e=null!=n&&"object"===typeof n?n.cols:n;var r="xs"!==t?"-".concat(t):"";null!=e&&v.push("".concat(h).concat(r,"-").concat(e))})),Object(l.jsx)(d,Object(r.a)(Object(r.a)({ref:e},p),{},{className:i.a.apply(void 0,[o,m].concat(v))}))}));d.displayName="Row",e.a=d},1235:function(t,e,n){"use strict";var r=n(24),a=n.n(r),o=n(0),i=n(2),c=n(14),s=n(13),l=n(92),u=n(1163),d=n(233),p=n(64);var m=function(t){var e=t.children,n=t.in,r=t.mountOnEnter,a=t.unmountOnExit,i=Object(o.useRef)(n);return Object(o.useEffect)((function(){n&&(i.current=!0)}),[n]),n?e:a||!i.current&&r?null:e},f=n(8),h=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],v=["activeKey","getControlledId","getControllerId"],b=["as"];function g(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}function y(t){var e=t.active,n=t.eventKey,r=t.mountOnEnter,a=t.transition,i=t.unmountOnExit,c=t.role,s=void 0===c?"tabpanel":c,l=t.onEnter,u=t.onEntering,m=t.onEntered,f=t.onExit,b=t.onExiting,y=t.onExited,w=g(t,h),E=Object(o.useContext)(d.a);if(!E)return[Object.assign({},w,{role:s}),{eventKey:n,isActive:e,mountOnEnter:r,transition:a,unmountOnExit:i,onEnter:l,onEntering:u,onEntered:m,onExit:f,onExiting:b,onExited:y}];var x=E.activeKey,O=E.getControlledId,k=E.getControllerId,j=g(E,v),N=Object(p.b)(n);return[Object.assign({},w,{role:s,id:O(n),"aria-labelledby":k(n)}),{eventKey:n,isActive:null==e&&null!=N?Object(p.b)(x)===N:e,transition:a||j.transition,mountOnEnter:null!=r?r:j.mountOnEnter,unmountOnExit:null!=i?i:j.unmountOnExit,onEnter:l,onEntering:u,onEntered:m,onExit:f,onExiting:b,onExited:y}]}var w=o.forwardRef((function(t,e){var n=t.as,r=void 0===n?"div":n,a=y(g(t,b)),o=Object(s.a)(a,2),i=o[0],c=o[1],l=c.isActive,u=c.onEnter,h=c.onEntering,v=c.onEntered,w=c.onExit,E=c.onExiting,x=c.onExited,O=c.mountOnEnter,k=c.unmountOnExit,j=c.transition,N=void 0===j?m:j;return Object(f.jsx)(d.a.Provider,{value:null,children:Object(f.jsx)(p.a.Provider,{value:null,children:Object(f.jsx)(N,{in:l,onEnter:u,onEntering:h,onEntered:v,onExit:w,onExiting:E,onExited:x,mountOnEnter:O,unmountOnExit:k,children:Object(f.jsx)(r,Object.assign({},i,{ref:e,hidden:!l,"aria-hidden":!l}))})})})}));w.displayName="TabPanel";var E=function(t){var e=t.id,n=t.generateChildId,r=t.onSelect,a=t.activeKey,i=t.defaultActiveKey,c=t.transition,m=t.mountOnEnter,h=t.unmountOnExit,v=t.children,b=Object(l.b)(a,i,r),g=Object(s.a)(b,2),y=g[0],w=g[1],E=Object(u.a)(e),x=Object(o.useMemo)((function(){return n||function(t,e){return E?"".concat(E,"-").concat(e,"-").concat(t):null}}),[E,n]),O=Object(o.useMemo)((function(){return{onSelect:w,activeKey:y,transition:c,mountOnEnter:m||!1,unmountOnExit:h||!1,getControlledId:function(t){return x(t,"tabpane")},getControllerId:function(t){return x(t,"tab")}}}),[w,y,c,m,h,x]);return Object(f.jsx)(d.a.Provider,{value:O,children:Object(f.jsx)(p.a.Provider,{value:w||null,children:v})})};E.Panel=w;var x=E,O=n(121);function k(t){return"boolean"===typeof t?t?O.a:m:t}var j=["transition"],N=function(t){var e=t.transition,n=Object(c.a)(t,j);return Object(f.jsx)(x,Object(i.a)(Object(i.a)({},n),{},{transition:k(e)}))};N.displayName="TabContainer";var T=N,_=n(51),B=Object(_.a)("tab-content"),C=n(10),L=n.n(C),S=n(18),F=["bsPrefix","transition"],P=["className","as"],M=o.forwardRef((function(t,e){var n=t.bsPrefix,r=t.transition,a=Object(c.a)(t,F),o=y(Object(i.a)(Object(i.a)({},a),{},{transition:k(r)})),l=Object(s.a)(o,2),u=l[0],m=u.className,h=u.as,v=void 0===h?"div":h,b=Object(c.a)(u,P),g=l[1],w=g.isActive,E=g.onEnter,x=g.onEntering,j=g.onEntered,N=g.onExit,T=g.onExiting,_=g.onExited,B=g.mountOnEnter,C=g.unmountOnExit,M=g.transition,A=void 0===M?O.a:M,I=Object(S.b)(n,"tab-pane");return Object(f.jsx)(d.a.Provider,{value:null,children:Object(f.jsx)(p.a.Provider,{value:null,children:Object(f.jsx)(A,{in:w,onEnter:E,onEntering:x,onEntered:j,onExit:N,onExiting:T,onExited:_,mountOnEnter:B,unmountOnExit:C,children:Object(f.jsx)(v,Object(i.a)(Object(i.a)({},b),{},{ref:e,className:L()(m,I,w&&"active")}))})})})}));M.displayName="TabPane";var A=M,I={eventKey:a.a.oneOfType([a.a.string,a.a.number]),title:a.a.node.isRequired,disabled:a.a.bool,tabClassName:a.a.string,tabAttrs:a.a.object},R=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};R.propTypes=I;e.a=Object.assign(R,{Container:T,Content:B,Pane:A})},1291:function(t,e,n){t.exports={marketWrap:"marketTable_marketWrap__13wdK",marketTitle:"marketTable_marketTitle__3QqWZ",marketTotal:"marketTable_marketTotal__iQNzJ",num:"marketTable_num__1nnWS",percentNum:"marketTable_percentNum__1V-VB",add:"marketTable_add__RLr7u",sub:"marketTable_sub__1tn-n",totalSize:"marketTable_totalSize__Vmc50",totalSupplyBorrow:"marketTable_totalSupplyBorrow__-nDOx",marketTable:"marketTable_marketTable__8CXus",loading:"marketTable_loading__279c_",noData:"marketTable_noData__1Rt9H",tabMenuContainer:"marketTable_tabMenuContainer__1IF0E",switchChain:"marketTable_switchChain__16YaL",tabMenuItem:"marketTable_tabMenuItem__33s18",active:"marketTable_active__8jgOe",totalMarketData:"marketTable_totalMarketData__3LgtC",label:"marketTable_label__34xzp",value:"marketTable_value__JrH_M",marketTableContainer:"marketTable_marketTableContainer__1JYZH",actions:"marketTable_actions__2xRAZ",titleTxt:"marketTable_titleTxt__1UBd9",down:"marketTable_down__1FP7Z",up:"marketTable_up__33x7R",marketRow:"marketTable_marketRow__2qqFk",asset:"marketTable_asset__2b3oF",name:"marketTable_name__2tWYZ",dataContainer:"marketTable_dataContainer__1d6N_",dataPrimary:"marketTable_dataPrimary__2UjwT",dataSecondary:"marketTable_dataSecondary__33hle",actionsTd:"marketTable_actionsTd__3ABTM",toolTipList:"marketTable_toolTipList__nlhI2",toolTipItem:"marketTable_toolTipItem__3AbEu",hd:"marketTable_hd__1V97P",bd:"marketTable_bd__1dURJ",btnGroup:"marketTable_btnGroup__3A_un"}},1292:function(t,e,n){"use strict";var r=n(2),a=n(14),o=n(10),i=n.n(o),c=n(0),s=n(18),l=n(8),u=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],d=c.forwardRef((function(t,e){var n=t.bsPrefix,o=t.className,c=t.striped,d=t.bordered,p=t.borderless,m=t.hover,f=t.size,h=t.variant,v=t.responsive,b=Object(a.a)(t,u),g=Object(s.b)(n,"table"),y=i()(o,g,h&&"".concat(g,"-").concat(h),f&&"".concat(g,"-").concat(f),c&&"".concat(g,"-striped"),d&&"".concat(g,"-bordered"),p&&"".concat(g,"-borderless"),m&&"".concat(g,"-hover")),w=Object(l.jsx)("table",Object(r.a)(Object(r.a)({},b),{},{className:y,ref:e}));if(v){var E="".concat(g,"-responsive");return"string"===typeof v&&(E="".concat(E,"-").concat(v)),Object(l.jsx)("div",{className:E,children:w})}return w}));e.a=d},1303:function(t,e,n){"use strict";n.r(e);var r=n(17),a=n(5),o=n(23),i=n(13),c=n(0),s=n.n(c),l=n(276),u=(n(616),n(1174),n(1221)),d=n(597),p=n(1292),m=n(1173),f=n(10),h=n.n(f),v=n(56),b=n(377),g=(n(79),n(39)),y=(n(378),n(9),n(97),n(120)),w=n(36),E=n(375),x=n(300),O=n(1182),k=n(1235),j=n(1183),N=n(16),T=n.n(N),_=n(1192),B=n(1191),C=n(2),L=(n(1190),n(1188));function S(){S=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof d?e:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return j()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,i),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var u={};function d(){}function p(){}function m(){}var f={};c(f,a,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==e&&n.call(v,a)&&(f=v);var b=m.prototype=d.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var r;this._invoke=function(a,o){function i(){return new e((function(r,i){!function r(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=m,c(b,"constructor",m),c(m,"constructor",p),p.displayName=c(m,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(y.prototype),c(y.prototype,o,(function(){return this})),t.AsyncIterator=y,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new y(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(b),c(b,i,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}var F=function(t){var e,n=Object(c.useContext)(g.d).connectedAddress,r=Object(c.useContext)(g.c).networkType,o=Object(c.useContext)(g.g).web3,u=Object(m.a)(),d=u.t,p=(u.i18n,Object(c.useState)("")),f=Object(i.a)(p,2),h=f[0],v=f[1],b=Object(c.useState)(!1),x=Object(i.a)(b,2),O=x[0],k=x[1],j=Object(c.useState)(!1),T=Object(i.a)(j,2),F=T[0],P=T[1],M=Object(c.useState)(!1),A=Object(i.a)(M,2),I=A[0],R=A[1],G=Object(c.useState)(!1),Y=Object(i.a)(G,2),D=Y[0],H=Y[1],q=Object(c.useState)(""),K=Object(i.a)(q,2),V=K[0],z=K[1],U=Object(c.useState)(!1),W=Object(i.a)(U,2),J=W[0],Z=W[1],$=Object(c.useState)(""),Q=Object(i.a)($,2),X=Q[0],tt=Q[1],et=Object(c.useState)(!0),nt=Object(i.a)(et,2),rt=nt[0],at=nt[1],ot=Object(c.useState)(!1),it=Object(i.a)(ot,2),ct=it[0],st=it[1],lt=Object(c.useRef)(!1),ut=function(){var e=Object(a.a)(S().mark((function e(n){var a,o;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(N.BigNumber)(n).isNegative()?Object(N.BigNumber)(n).absoluteValue().toString():n,Object(L.c)(8).test(a)||(a=Object(N.BigNumber)(a).toFixed(8,3)),v(a),!(0!==t.data.supplyCapFormatted&&Number(a)>t.data.supplyCapFormatted)){e.next=6;break}return st(!0),e.abrupt("return");case 6:o=w.a.isNativeToken(t.data.symbol,r)?new N.BigNumber(t.data.walletBalanceFormatted).minus(.1).lte(new N.BigNumber(a)):new N.BigNumber(t.data.walletBalanceFormatted).lte(new N.BigNumber(a)),k(o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(a.a)(S().mark((function e(){var n,r=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!(r.length>0&&void 0!==r[0])||r[0],(!(r.length>1&&void 0!==r[1])||r[1])&&v(""),k(!1),P(!1),R(!1),H(!1),z(""),Z(!1),tt(""),at(!0),st(!1),n&&(t.handleClose(),lt.current=!0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=Object(a.a)(S().mark((function e(n){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.a.getRawValue(o,r,t.data.symbol,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=Object(a.a)(S().mark((function e(a){var i,c,s;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.a.isNativeToken(t.data.symbol,r)){e.next=2;break}return e.abrupt("return",Promise.resolve(!0));case 2:return e.next=4,y.a.getAccountAllowance(o,n,r,t.data);case 4:if(i=e.sent,c=i.allowance,s=i.allowanceFormatted,!(c&&c<Number(a))){e.next=11;break}return Z(!0),tt(s),e.abrupt("return",Promise.resolve(!1));case 11:return Z(!1),tt(""),e.abrupt("return",Promise.resolve(!0));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Object(a.a)(S().mark((function e(a){var c,s,l,u,p,m,f,v,b;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={url:window.location.href,symbol:t.data.symbol},at(!0),P(!0),e.next=5,pt(h);case 5:return s=e.sent,e.next=8,mt(s);case 8:if(e.sent){e.next=12;break}return P(!1),e.abrupt("return");case 12:return e.next=14,Promise.all([w.a.getQTokenContract(o,r,t.data.symbol),w.a.getGasInfo(o)]);case 14:return l=e.sent,u=Object(i.a)(l,2),p=u[0],m=u[1],f=w.a.isNativeToken(t.data.symbol,r),v=f?p.methods.mint():p.methods.mint(o.utils.toBN(s)),b={from:n},f&&(b.value=o.utils.toHex(s)),e.next=24,w.a.recomputeGas(v,b,m,r);case 24:return b=e.sent,e.next=27,v.send(b).on("transactionHash",(function(e){t.data.depositTxnHash={hash:e,content:d("Pending.DepositInProgress")},lt.current||z(e)})).then((function(e){e.events.Failure?(window.gtag("event","deposit",Object(C.a)(Object(C.a)({},c),{},{error:"response event fail"})),lt.current||(H(!0),P(!1))):(window.gtag("event","deposit",c),lt.current||(a(),R(!0),P(!1))),t.data.depositTxnHash=null})).catch((function(e){4001===e.code?(window.gtag("event","deposit",Object(C.a)(Object(C.a)({},c),{},{error:"user rejected"})),lt.current||dt(!1,!1)):(window.gtag("event","deposit",Object(C.a)(Object(C.a)({},c),{},{error:"other error"})),lt.current||(H(!0),P(!1)),t.data.depositTxnHash=null)}));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=Object(a.a)(S().mark((function e(){var i,c=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!(c.length>0&&void 0!==c[0])||c[0],P(!0),e.next=4,_.a.approveERC20(o,n,r,t.data).then(function(){var t=Object(a.a)(S().mark((function t(e){var n;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=14;break}if(!i){t.next=5;break}at(!1),t.next=14;break;case 5:return t.next=7,pt(h);case 7:return n=t.sent,t.next=10,Object(B.a)();case 10:return t.next=12,mt(n);case 12:t.sent&&at(!1);case 14:P(!1);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){4001===t.code&&dt(!1,!1)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vt=s.a.createElement("div",{className:"footerList"},s.a.createElement("div",{className:"footerItem"},s.a.createElement("div",{className:"label"},d("Banking.DepositModal.AvailableWalletBalance")),s.a.createElement("div",{className:"value"},"".concat(function(e){if(w.a.isNativeToken(t.data.symbol,r)){var n=Object(N.BigNumber)(t.data.walletBalanceFormatted).minus(.1);return n.isNegative()?"0":e?n.toString():n.toFixed(4)}return e?Object(N.BigNumber)(t.data.walletBalanceFormatted).toString():Object(N.BigNumber)(t.data.walletBalanceFormatted).toFixed(4)}(!1)," ").concat(t.data.uiSymbol||t.data.symbol)))),bt=s.a.createElement(E.g,{type:"success",txnHash:V,content:d("Banking.DepositModal.SuccessMsg"),okText:"OK",handleOk:function(){return dt(!1)},footerList:vt}),gt=s.a.createElement(g.a.Consumer,null,(function(t){var e=t.handleUpdate;return s.a.createElement(E.g,{type:"error",txnHash:V,title:d("Banking.DepositModal.ErrorMsg"),okText:d("CommonModal.Retry"),handleOk:function(){return ft(e)},footerList:vt})})),yt=s.a.createElement(E.g,{type:"loading",txnHash:V,title:d("CommonModal.PleaseWait")}),wt=s.a.createElement(E.g,{type:"approve",showTitle:!1,showTransation:!1,content:d("CommonModal.FurtherApprovalMsg",{type:d("Banking.DepositModal.SavingsBalance"),inputValue:h,allowanceFormatted:X}),okText:d("CommonModal.FurtherApprove"),handleOk:function(){return ht(!1)}}),Et=s.a.createElement(E.g,{type:"approve",showTitle:!1,showTransation:!1,content:d("CommonModal.ApprovalMsg",{token:w.a.getApprovalMsgToken(r)}),okText:d("CommonModal.Approve"),handleOk:function(){return ht(!0)}}),xt=s.a.createElement("div",{className:"contentContainer"},s.a.createElement("div",{className:"formContainer"},s.a.createElement("div",{className:"formHdTips"},d("CommonModal.formHdTips",{symbol:null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.symbol,action:d("Banking.Markets.Deposit").toLowerCase()})),s.a.createElement(E.c,{controlId:"formDeposit",data:t.data,inputValue:h,onChange:function(t){return ut(t.target.value)},showToggleButton:!0,toggleButtonOnChange:function(e){var n;if(k(!1),st(!1),w.a.isNativeToken(t.data.symbol,r)){if((n=new N.BigNumber(t.data.walletBalanceFormatted).minus(.1).multipliedBy(e)).isNegative())return void v("0")}else n=new N.BigNumber(t.data.walletBalanceFormatted).multipliedBy(e);n=Object(L.c)(8).test(+n)?n.toString():n.toFixed(8,3),v(n)}}),s.a.createElement("div",{style:{width:"100%",marginTop:"23px"}},ct?s.a.createElement(E.h,{smallIconTips:!0,showTitle:!1,type:"errorTips",content:d("Banking.DepositModal.ExceedsDepositLimit")}):O&&s.a.createElement(E.h,{smallIconTips:!0,showTitle:!1,type:"errorTips",content:d("Banking.DepositModal.InsufficientBalance")}))),s.a.createElement("div",{className:"buttonsContainer"},s.a.createElement(g.a.Consumer,null,(function(t){var e=t.handleUpdate;return s.a.createElement(l.a,{variant:"green",disabled:ct||O||isNaN(parseFloat(h))||parseFloat(h)<=0,onClick:function(){return ft(e)}},d("Banking.Markets.Deposit"))}))),vt),Ot=t.data&&!t.data.approved&&rt;return F?yt:I?bt:D?gt:J?wt:Ot?Et:xt};function P(){P=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof d?e:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return j()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,i),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var u={};function d(){}function p(){}function m(){}var f={};c(f,a,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==e&&n.call(v,a)&&(f=v);var b=m.prototype=d.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var r;this._invoke=function(a,o){function i(){return new e((function(r,i){!function r(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=m,c(b,"constructor",m),c(m,"constructor",p),p.displayName=c(m,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(y.prototype),c(y.prototype,o,(function(){return this})),t.AsyncIterator=y,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new y(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(b),c(b,i,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}var M=function(t){var e=Object(c.useContext)(g.d).connectedAddress,n=Object(c.useContext)(g.c).networkType,r=Object(c.useContext)(g.g),o=r.web3,u=r.inSafe,d=Object(m.a)(),p=d.t,f=(d.i18n,Object(c.useState)("")),h=Object(i.a)(f,2),v=h[0],b=h[1],y=Object(c.useState)(!1),x=Object(i.a)(y,2),O=x[0],k=x[1],j=Object(c.useState)(!1),T=Object(i.a)(j,2),_=T[0],B=T[1],S=Object(c.useState)(!1),F=Object(i.a)(S,2),M=F[0],A=F[1],I=Object(c.useState)(!1),R=Object(i.a)(I,2),G=R[0],Y=R[1],D=Object(c.useState)(!1),H=Object(i.a)(D,2),q=H[0],K=H[1],V=Object(c.useState)(""),z=Object(i.a)(V,2),U=z[0],W=z[1],J=Object(c.useState)(!1),Z=Object(i.a)(J,2),$=Z[0],Q=Z[1],X=Object(c.useRef)(!1),tt=((t.totalloanbalance+w.a.fixedNaN(v)*t.data.price)/t.totalborrowlimitfiat*100).toFixed(2);"NaN"!==tt&&"Infinity"!==tt||(tt="0");var et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=t.totalborrowlimitfiat/t.data.price*e,r=t.totalloanbalance/t.data.price,a=r>=n?0:n-r,o=t.data.liquidityFormatted,i=a>o?o:a;return i=w.a.fixedNaN(i)},nt=et(.9),rt=et(.85),at=function(){var e=Object(a.a)(P().mark((function e(n){var r,a;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(N.BigNumber)(n).isNegative()?Object(N.BigNumber)(n).absoluteValue().toString():n,Object(L.c)(8).test(r)||(r=Object(N.BigNumber)(r).toFixed(8,3)),b(r),a=Number(r),!(0!==t.data.borrowCapFormatted&&a>t.data.borrowCapFormatted)){e.next=8;break}return k(!0),Q(!0),e.abrupt("return");case 8:k(!(a<=rt)&&(!(a>rt&&a<=nt)||!_));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){k(!_)}),[_]);var ot=function(){var e=Object(a.a)(P().mark((function e(){var n,r=arguments;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!(r.length>0&&void 0!==r[0])||r[0],(!(r.length>1&&void 0!==r[1])||r[1])&&b(""),k(!1),B(!1),A(!1),Y(!1),K(!1),W(""),Q(!1),n&&(t.handleClose("borrow"),X.current=!0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=function(){var r=Object(a.a)(P().mark((function r(a){var i,c,s,l,d;return P().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i={url:window.location.href,symbol:t.data.symbol},A(!0),r.next=4,w.a.getQTokenContract(o,n,t.data.symbol);case 4:if(c=r.sent){r.next=10;break}return K(!0),t.data.borrowTxnHash=null,A(!1),r.abrupt("return");case 10:return r.next=12,w.a.getGasInfo(o);case 12:return s=r.sent,r.next=15,w.a.getRawValue(o,n,t.data.symbol,v);case 15:if(l=r.sent,d={from:e},u){r.next=21;break}return r.next=20,w.a.recomputeGas(c.methods.borrow(l),d,s,n);case 20:d=r.sent;case 21:return r.next=23,c.methods.borrow(l).send(d).on("transactionHash",(function(e){t.data.borrowTxnHash={hash:e,content:p("Pending.BorrowInProgress")},X.current||W(e)})).then((function(e){e.events.Failure?(window.gtag("event","borrow",Object(C.a)(Object(C.a)({},i),{},{error:"response event fail"})),X.current||(K(!0),A(!1))):(window.gtag("event","borrow",i),X.current||(a(),Y(!0),A(!1))),t.data.borrowTxnHash=null})).catch((function(e){4001===e.code?(window.gtag("event","borrow",Object(C.a)(Object(C.a)({},i),{},{error:"user rejected"})),X.current||ot(!1,!1)):(window.gtag("event","borrow",Object(C.a)(Object(C.a)({},i),{},{error:"other error"})),X.current||(K(!0),A(!1)),t.data.borrowTxnHash=null)}));case 23:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}(),ct=s.a.createElement("div",{className:"footerList"},s.a.createElement("div",{className:"footerItem"},s.a.createElement("div",{className:"label"},s.a.createElement(E.n,{type:"icon",title:p("Banking.BorrowModal.BorrowSafeMax"),tooltipClassName:"dailyReward-tooltips",desc:p("Banking.BorrowModal.BorrowSafeMax-info1")})),s.a.createElement("div",{className:"value"},"".concat((Math.floor(100*parseFloat(rt))/100).toFixed(2)," ").concat(t.data.uiSymbol||t.data.symbol)))),st=s.a.createElement(E.g,{type:"success",txnHash:U,content:p("Banking.BorrowModal.SuccessMsg"),okText:"OK",handleOk:function(){return ot(!1)},footerList:ct}),lt=s.a.createElement(g.a.Consumer,null,(function(t){var e=t.handleUpdate;return s.a.createElement(E.g,{type:"error",txnHash:U,title:p("Banking.BorrowModal.ErrorMsg"),okText:p("CommonModal.Retry"),handleOk:function(){return it(e)},footerList:ct})})),ut=s.a.createElement(E.g,{type:"loading",txnHash:U,title:p("CommonModal.PleaseWait")}),dt=s.a.createElement(E.g,{type:"warning",title:p("Banking.BorrowModal.CannotBorrowMsgTitle"),content:p("Banking.BorrowModal.CannotBorrowMsgDesc"),showTransation:!1}),pt=s.a.createElement(E.g,{type:"error",showTitle:!1,content:p("Banking.BorrowModal.NotSupport"),showTransation:!1});if(t.data.isBorrowPaused||t.data.isLPToken)return pt;var mt=0===Number(t.totalborrowlimitfiat)?dt:function(){var e;return s.a.createElement("div",{className:"contentContainer"},s.a.createElement("div",{className:"formContainer"},s.a.createElement("div",{className:"formHdTips"},p("CommonModal.formHdTips",{symbol:null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.symbol,action:p("Banking.Markets.Borrow").toLowerCase()})),s.a.createElement(E.c,{controlId:"formBorrow",data:t.data,inputValue:v,onChange:function(t){return at(t.target.value)},showToggleButton:!0,toggleButtonNum:["25","50","75",90],toggleButtonOnChange:function(t){var e=new N.BigNumber(nt).multipliedBy(t);at(e)}}),s.a.createElement(E.e,{percent:tt,tips:p("Banking.BorrowModal.Info")}),(Number(v)>Number(nt)||$)&&s.a.createElement(E.h,{smallIconTips:!0,showTitle:!1,type:"errorTips",content:p("Banking.BorrowModal.ExceedsBorrowLimit")}),Number(v)>Number(rt)&&Number(v)<=Number(nt)&&s.a.createElement(E.i,{type:"warningTips",content:p("Banking.BorrowModal.BorrowCheckTips"),checkId:"borrowCheck",checked:_,onChange:function(){return B((function(t){return!t}))}})),s.a.createElement("div",{className:"buttonsContainer"},s.a.createElement(g.a.Consumer,null,(function(t){var e=t.handleUpdate;return s.a.createElement(l.a,{variant:"blue",disabled:O||isNaN(parseFloat(v))||parseFloat(v)<=0,onClick:function(){return it(e)}},p("Banking.Markets.Borrow"))}))),ct)}();return M?ut:G?st:q?lt:mt};var A=function(t){Object(c.useContext)(g.d).connectedAddress,Object(c.useContext)(g.c).networkType,Object(c.useContext)(g.g).web3;var e=Object(m.a)(),n=e.t,r=(e.i18n,Object(c.useState)("deposit")),a=Object(i.a)(r,2),o=a[0],l=a[1],u=function(){l("deposit"),t.onHide()};return s.a.createElement(O.a,Object.assign({},t,{"aria-labelledby":"contained-modal-title-vcenter",className:"customModal",centered:!0}),s.a.createElement(O.a.Header,{closeButton:!0},s.a.createElement(E.b,{data:t.data})),s.a.createElement(O.a.Body,null,s.a.createElement(k.a.Container,{id:"supply-borrow",defaultActiveKey:o,onSelect:function(t){l(t)}},s.a.createElement(j.a,{variant:"pills",className:"flex-row"},s.a.createElement(j.a.Item,null,s.a.createElement(j.a.Link,{eventKey:"deposit"},n("Banking.Markets.Deposit"))),s.a.createElement(j.a.Item,null,s.a.createElement(j.a.Link,{eventKey:"borrow"},n("Banking.Markets.Borrow")))),s.a.createElement(k.a.Content,null,s.a.createElement(k.a.Pane,{eventKey:"deposit"},"deposit"===o&&s.a.createElement(F,{data:t.data,handleClose:u})),s.a.createElement(k.a.Pane,{eventKey:"borrow"},"borrow"===o&&s.a.createElement(M,{data:t.data,totalborrowlimitfiat:t.totalborrowlimitfiat,totalloanbalance:t.totalloanbalance,handleClose:u}))))))},I=n(1291),R=n.n(I);e.default=function(t){var e,n,a,f,w,O,k,j=Object(v.g)(),N=Object(c.useContext)(g.d).connectedAddress,_=Object(c.useContext)(g.c).networkType,B=Object(m.a)(),C=B.t,L=B.i18n,S=Object(v.h)().pathname,F=Object(c.useState)(0),P=Object(i.a)(F,2),M=P[0],I=P[1],G=Object(c.useState)([]),Y=Object(i.a)(G,2),D=Y[0],H=Y[1],q=Object(c.useState)([]),K=Object(i.a)(q,2),V=K[0],z=K[1],U=Object(c.useState)(""),W=Object(i.a)(U,2),J=W[0],Z=W[1],$=Object(c.useState)("default"),Q=Object(i.a)($,2),X=Q[0],tt=Q[1],et=Object(c.useState)(0),nt=Object(i.a)(et,2),rt=nt[0],at=nt[1],ot=Object(c.useState)(!1),it=Object(i.a)(ot,2),ct=it[0],st=it[1],lt=Object(c.useState)(!1),ut=Object(i.a)(lt,2),dt=(ut[0],ut[1],Object(c.useState)(!1)),pt=Object(i.a)(dt,2),mt=(pt[0],pt[1],"unsupported"!==_&&(void 0===t.data.loading||(void 0===N||t.data.loading))),ft=!!t.inSafe||S.includes("crypto-bank");Object(c.useEffect)((function(){gt(t.data,"")}),[t.data]);var ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.data,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,a=Object(o.a)(e);if("default"!==r){var c=function(t,e){return"down"===r?e-t:t-e};a.sort((function(e,a){switch(n){case"asset":var o=e.name.toUpperCase(),i=a.name.toUpperCase(),s=function(t,e){return t===e?0:t<e?-1:1};return"down"===r?-s(o,i):s(o,i);case"saving":var l=+T()(e.savingsAPY).plus(e.isLPToken?e.lpTotalAPY:e.savingsMintAPY),u=+T()(a.savingsAPY).plus(a.isLPToken?a.lpTotalAPY:a.savingsMintAPY);return c(l,u);case"borrow":var d=+T()(e.loanAPY).minus(e.loanMintAPY),p=+T()(a.loanAPY).minus(a.loanMintAPY);return c(d,p);case"savingRewards":var m=parseFloat(e.supplyMonthlyRewards),f=parseFloat(a.supplyMonthlyRewards);return c(m,f);case"borrowRewards":var h=parseFloat(e.borrowMonthlyRewards),v=parseFloat(a.borrowMonthlyRewards);return c(h,v);case"liquidity":var b=0===t.curCurrenry?e.liquidityFormatted:e.liquidityFiat,g=0===t.curCurrenry?a.liquidityFormatted:a.liquidityFiat;return c(b,g);case"totalBorrow":var y=0===t.curCurrenry?e.totalBorrowedFormatted:e.totalBorrowedFiat,w=0===t.curCurrenry?a.totalBorrowedFormatted:a.totalBorrowedFiat;return c(y,w);case"totalSupply":var E=0===t.curCurrenry?e.totalSupplyFormatted:e.totalSupplyFiat,x=0===t.curCurrenry?a.totalSupplyFormatted:a.totalSupplyFiat;return c(E,x);case"utilRate":var O=e.utilRate,k=a.utilRate;return c(O,k)}}))}for(var s=0,l=Object.entries(e);s<l.length;s++){var u=Object(i.a)(l[s],2),d=u[0],p=u[1];isNaN(parseInt(d))&&(a[d]=p)}return a},vt=function(t){var e="default";if(J&&J===t){var n=["down","up","default"],r=n.findIndex((function(t){return t===X}));e=n[r=(r+1)%n.length]}else e="down";var a=ht(V,t,e);bt(rt,a),Z(t),tt(e)},bt=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.data;switch(e){case 0:H(n);break;case 1:for(var r=n.filter((function(t){return!(null===t||void 0===t?void 0:t.isLPToken)})),a=0,o=Object.entries(n);a<o.length;a++){var c=Object(i.a)(o[a],2),s=c[0],l=c[1];isNaN(parseInt(s))&&(r[s]=l)}H(r);break;case 2:for(var u=n.filter((function(t){return null===t||void 0===t?void 0:t.isLPToken})),d=0,p=Object.entries(n);d<p.length;d++){var m=Object(i.a)(p[d],2),f=m[0],h=m[1];isNaN(parseInt(f))&&(u[f]=h)}H(u);break;default:H(n)}},gt=function(e,n){var r=""!==n?e:t.data,a=ht(r,J,X);""!==n?(at(0),bt(0,a)):bt(rt,a),z(r)},yt=[{id:0,title:C("Banking.Markets.AllAsset")},{id:1,title:C("Banking.Markets.SingleAsset")}],wt=s.a.createElement("tr",{className:R.a.loading},s.a.createElement("td",{colSpan:ft?9:8},s.a.createElement(b.a,{height:150,width:"100%",speed:1,backgroundColor:x.a.background,foregroundColor:x.a.foreground},s.a.createElement("rect",{x:"0",y:"20",rx:"0",ry:"0",width:"100%",height:"30"}),s.a.createElement("rect",{x:"0",y:"70",rx:"0",ry:"0",width:"100%",height:"30"}),s.a.createElement("rect",{x:"0",y:"120",rx:"0",ry:"0",width:"100%",height:"30"}))));return s.a.createElement("div",{className:R.a.marketWrap},s.a.createElement("h2",{className:R.a.marketTitle},C("Banking.Markets.Title")),s.a.createElement(u.a,{className:R.a.marketTotal},s.a.createElement(d.a,{sm:"12",md:"6"},s.a.createElement("div",{className:R.a.totalSize},s.a.createElement("dl",null,s.a.createElement("dt",null,C("Banking.Markets.TotalMarketSize")),s.a.createElement("dd",null,s.a.createElement("span",{className:R.a.num},"$",(null===(e=t.data)||void 0===e?void 0:e.totalBizSize)||0))))),s.a.createElement(d.a,{sm:"12",md:"6"},s.a.createElement("div",{className:R.a.totalSupplyBorrow},s.a.createElement("dl",null,s.a.createElement("dt",null,C("Banking.Markets.TotalAllSupply")),s.a.createElement("dd",null,s.a.createElement("span",{className:R.a.num},"$",t.data.totalTVLFiat||0))),s.a.createElement("dl",null,s.a.createElement("dt",null,C("Banking.Markets.TotalAllBorrow")),s.a.createElement("dd",null,s.a.createElement("span",{className:R.a.num},"$",t.data.totalBorrow||0)))))),s.a.createElement("div",{className:R.a.marketTable},s.a.createElement(u.a,null,s.a.createElement(d.a,{md:6,className:R.a.tabMenuContainer},s.a.createElement("div",{className:R.a.btnGroup},yt.map((function(e){return s.a.createElement(l.a,{key:e.id,variant:"transparent",className:h()(R.a.tabMenuItem,Object(r.a)({},R.a.active,rt===e.id)),onClick:function(){return function(e){var n=ht(t.data,J,X);at(e),bt(e,n)}(e.id)}},e.title)}))))),s.a.createElement("div",{className:R.a.marketTableContainer},s.a.createElement(p.a,{responsive:!0,className:R.a.tableContainer},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{onClick:function(){return vt("asset")}},s.a.createElement("span",{className:h()(R.a.titleTxt,(n={},Object(r.a)(n,R.a.up,"asset"===J&&"up"===X),Object(r.a)(n,R.a.down,"asset"===J&&"down"===X),n))},C("Banking.Markets.Assets"))),s.a.createElement("th",{onClick:function(){return vt("totalSupply")}},s.a.createElement("span",{className:h()(R.a.titleTxt,(a={},Object(r.a)(a,R.a.up,"totalSupply"===J&&"up"===X),Object(r.a)(a,R.a.down,"totalSupply"===J&&"down"===X),a))},C("Banking.Markets.TotalSupply"))),s.a.createElement("th",{onClick:function(){return vt("saving")}},s.a.createElement("span",{className:h()(R.a.titleTxt,(f={},Object(r.a)(f,R.a.up,"saving"===J&&"up"===X),Object(r.a)(f,R.a.down,"saving"===J&&"down"===X),f))},s.a.createElement(E.n,{type:"line",title:C("Banking.Markets.SupplyAPY"),desc:C("Banking.Markets.SupplyAPY-info")}))),s.a.createElement("th",{onClick:function(){return vt("totalBorrow")}},s.a.createElement("span",{className:h()(R.a.titleTxt,(w={},Object(r.a)(w,R.a.up,"totalBorrow"===J&&"up"===X),Object(r.a)(w,R.a.down,"totalBorrow"===J&&"down"===X),w))},C("Banking.Markets.TotalBorrow"))),s.a.createElement("th",{onClick:function(){return vt("borrow")}},s.a.createElement("span",{className:h()(R.a.titleTxt,(O={},Object(r.a)(O,R.a.up,"borrow"===J&&"up"===X),Object(r.a)(O,R.a.down,"borrow"===J&&"down"===X),O))},s.a.createElement(E.n,{type:"line",title:C("Banking.Markets.BorrowAPY"),desc:C("Banking.Markets.BorrowAPY-info")}))),s.a.createElement("th",{onClick:function(){return vt("utilRate")}},s.a.createElement("span",{className:h()(R.a.titleTxt,(k={},Object(r.a)(k,R.a.up,"utilRate"===J&&"up"===X),Object(r.a)(k,R.a.down,"utilRate"===J&&"down"===X),k))},C("Banking.Markets.UtilRate"))),ft&&s.a.createElement("th",{className:R.a.actions},C("Banking.Actions")))),s.a.createElement("tbody",null,mt?wt:(null===D||void 0===D?void 0:D.length)>0?D.map((function(t,e){return t.symbol&&s.a.createElement("tr",{key:t.symbol,className:h()(R.a.marketRow),onClick:function(e){return function(t,e){t.stopPropagation(),j.push("/"+L.language+"/markets/"+e)}(e,t.symbol)}},s.a.createElement("td",null,s.a.createElement("div",{className:R.a.asset},t.isLPToken?s.a.createElement(E.o,{mode:2,logo1:t.logo1,logo2:t.logo2}):s.a.createElement("img",{src:t.logo,width:"auto",height:"24",className:"d-inline-block align-top",alt:"Logo"}),s.a.createElement("div",{className:R.a.name},t.name))),s.a.createElement("td",null,s.a.createElement("div",{className:R.a.dataContainer},s.a.createElement("div",{className:R.a.dataPrimary},y.a.getCurrencyFormatted(t.totalSupplyFiat)),s.a.createElement("div",{className:R.a.dataSecondary},parseFloat(t.totalSupplyFormatted).toFixed(2)+" "+(t.uiSymbol||t.symbol)))),s.a.createElement("td",null,s.a.createElement("div",{className:R.a.dataContainer},s.a.createElement("div",{className:R.a.dataPrimary},(parseFloat(t.savingsAPY)+parseFloat(t.isLPToken?t.lpTotalAPY:t.savingsMintAPY)).toFixed(2)+"%"),s.a.createElement("div",{className:R.a.dataSecondary},parseFloat(t.savingsAPY).toFixed(2)+"%"," + ",parseFloat(t.isLPToken?t.lpTotalAPY:t.savingsMintAPY).toFixed(2)+"%"))),s.a.createElement("td",null,s.a.createElement("div",{className:R.a.dataContainer},s.a.createElement("div",{className:R.a.dataPrimary},y.a.getCurrencyFormatted(t.totalBorrowedFiat)),s.a.createElement("div",{className:R.a.dataSecondary},parseFloat(t.totalBorrowedFormatted).toFixed(2)+" "+(t.uiSymbol||t.symbol)))),s.a.createElement("td",null,s.a.createElement("div",{className:R.a.dataContainer},s.a.createElement("div",{className:R.a.dataPrimary},(parseFloat(t.loanAPY)-parseFloat(t.loanMintAPY)).toFixed(2)+"%"),s.a.createElement("div",{className:R.a.dataSecondary},parseFloat(t.loanAPY).toFixed(2)+"%"," - ",parseFloat(t.loanMintAPY).toFixed(2)+"%"))),s.a.createElement("td",null,s.a.createElement("div",{className:R.a.dataContainer},s.a.createElement("div",{className:R.a.dataPrimary},parseFloat(t.utilRate)<1e-10?"-":parseFloat(t.utilRate).toFixed(2)+"%"))),ft&&s.a.createElement("td",{className:N?"":R.a.actionsTd,onClick:function(t){t.stopPropagation(),N&&(I(e),st(!0))}},s.a.createElement("div",{className:R.a.dataContainer},s.a.createElement(l.a,{variant:"outline-green",size:"sm",disabled:!N},"".concat(C("Banking.Markets.Deposit")," & ").concat(C("Banking.Markets.Borrow"))))))})):s.a.createElement("tr",{className:R.a.noData},s.a.createElement("td",{colSpan:ft?9:8},C("Common.NoData"))))))),D.length>0&&s.a.createElement(A,{show:ct,onHide:function(){return st(!1)},data:D[M],totalborrowlimitfiat:D.totalBorrowLimitFiat,totalloanbalance:D.totalLoanBalance}))}}}]);
//# sourceMappingURL=1.5400739a.chunk.js.map