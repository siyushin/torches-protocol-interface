{"version":3,"sources":["../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/array.js","../node_modules/d3-path/src/path.js","pages/MarketDetailV2/MarketDetail.module.scss","images/freshBank/backIcon.svg","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","pages/MarketDetailV2/InterestRateChart.js","pages/MarketDetailV2/MarketDetail.js"],"names":["x","Array","prototype","slice","from","pi","Math","PI","tau","tauEpsilon","Path","this","_x0","_y0","_x1","_y1","_","path","constructor","moveTo","y","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","r","x0","y0","x21","y21","x01","y01","l01_2","Error","abs","x20","y20","l21_2","l20_2","l21","sqrt","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","dx","cos","dy","sin","cw","da","rect","w","h","toString","module","exports","Linear","context","_context","areaStart","_line","areaEnd","NaN","lineStart","_point","lineEnd","point","p","defined","constant","curve","curveLinear","output","line","data","i","d","buffer","n","array","length","defined0","undefined","pointX","pointY","arguments","InterestRateChart","props","market","t","useTranslation","currentUtilRate","parseFloat","utilRate","toFixed","useState","curRate","setCurRate","BaseRatePerBlock","parseInt","baseRatePerBlock","MultiplierPerBlock","multiplierPerBlock","JumpMultiplierPerBlock","jumpMultiplierPerBlock","Kink","kink","reserveFactor","colors","fontStyles","fontSize","fontWeight","annual","val","pow","borrowRate","util","borrowRatePerBlock","supplyRate","supplyRatePerBlock","mapToPoint","pt","utilRates","borrowRates","supplyRates","push","maxY","max","map","e","revertYValue","uPath","bPath","sPath","lines","stroke","strokeWidth","fill","curIndStart","VPADDING","curIndEnd","currentUtilValue","textAnchor","style","curUPoint","curBPoint","curSPoint","pointsText","cx","cy","clickBoxStartX","onPosChange","evt","buttons","dim","target","getBoundingClientRect","value","clientX","left","width","rate","floor","ceil","reduce","a","b","viewBox","xmlns","WIDTH","height","onMouseDown","onMouseMove","loadMarketData","web3","networkType","connectedAddress","mainNetWeb3","FetchData","callContract","clearMarketDataCache","cacheAllMarketData","Promise","all","getApyRate","then","response","savingsAPY","loanAPY","savingsMintAPY","loanMintAPY","fildaSpeedAPY","fildaSpeedFiatAPY","compSupplySpeedPerDay","compBorrowSpeedPerDay","getWalletBalance","walletBalance","walletBalanceFormatted","walletBalanceFiat","getLiquidityBalance","liquidity","liquidityFormatted","liquidityFiat","getTotalBorrowed","totalBorrowed","totalBorrowedFormatted","totalBorrowedFiat","getTotalSupply","totalSupply","totalSupplyFormatted","totalSupplyFiat","getSavingsBalance","savingsBalance","savingsBalanceFormatted","savingsBalanceFiat","savingsCTokenBalance","getLoanBalance","loanBalance","loanBalanceFormatted","loanBalanceFiat","checkMembership","isAssetMember","checkMintPaused","isMintPaused","checkBorrowPaused","isBorrowPaused","getPrice","price","getCollateralStatus","collateralStatus","getExchangeRate","exchangeRate","exchangeRateFormatted","getDecimals","decimals","getInterestRateModel","blocksPerYear","getReserveFactor","getMarketPercentage","percentageOfTotalBorrowed","percentageOfTotalMining","getBorrowLimit","borrowLimit","borrowLimitFormatted","borrowLimitFiat","collateralFactor","getLPData","lpReward","lpTotalAPY","getCloseFactor","closeFactor","getLiquidationIncentive","liquidationIncentive","getMaticCap","borrowCap","borrowCapFormatted","borrowCapFiat","supplyCap","supplyCapFormatted","supplyCapFiat","getLocaleString","s","deci","BigNumber","toFormat","prefix","decimalSeparator","groupSeparator","groupSize","MarketDetail","language","useContext","LanguageContext","WalletAddressContext","NetworkTypeContext","Web3Context","hecoMainNetWeb3","i18n","symbol","useParams","marketsArr","getNetworkMarkets","initMarket","Config","markets","setMarket","chartRate","setChartRate","loading","setLoading","fetchingRef","useRef","useEffect","current","globalUtils","ADDRESS_PLACEHOLDER","res","chartData","getChartData","percent","console","error","loadData","initialLoad","qToken","network","address","ethMantissa","blocksPerDay","blockInterval","daysPerYear","filter","item","to","contentLoader","className","styles","emptyMessageContainer","speed","backgroundColor","loadingColors","background","foregroundColor","foreground","rx","ry","marketsLoader","marketDetail","detailHeader","Container","container","href","onClick","event","window","localStorage","getItem","COME_FROM","ComeFrom","home","location","src","backIcon","alt","classNames","blockContainer","introContainer","lpIntroContainer","isLPToken","large","mode","logo1","logo2","logo","introIcon","marketName","uiSymbol","marketSymbol","uiName","name","cards","loanLimitContainer","txtTitle","txtNum","mainContainer","chartContainer","caption","chartDescription","CoreData","toUpperCase","borrowItem","supplyItem","updateRate","list","type","title","desc","tooltipClassName","info"],"mappings":"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","file":"static/js/15.0f3d49da.chunk.js","sourcesContent":["export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"marketDetail\":\"MarketDetail_marketDetail__ZxHBJ\",\"detailHeader\":\"MarketDetail_detailHeader__2Psup\",\"container\":\"MarketDetail_container__3RfqD\",\"introContainer\":\"MarketDetail_introContainer__o-AJb\",\"marketName\":\"MarketDetail_marketName__1jat-\",\"marketSymbol\":\"MarketDetail_marketSymbol__nzPCo\",\"cards\":\"MarketDetail_cards__1xqZH\",\"loanLimitContainer\":\"MarketDetail_loanLimitContainer__3MkJD\",\"txtTitle\":\"MarketDetail_txtTitle__P3Rm-\",\"txtNum\":\"MarketDetail_txtNum__bv4eD\",\"mainContainer\":\"MarketDetail_mainContainer__2J2gd\",\"chartContainer\":\"MarketDetail_chartContainer__27K1B\",\"caption\":\"MarketDetail_caption__bw8LA\",\"chartDescription\":\"MarketDetail_chartDescription__2POzU\",\"item\":\"MarketDetail_item__1LUX-\",\"borrowItem\":\"MarketDetail_borrowItem__3i3CB\",\"supplyItem\":\"MarketDetail_supplyItem__1iny9\",\"list\":\"MarketDetail_list__1yjwE\",\"linkTxtNum\":\"MarketDetail_linkTxtNum__3fQN1\",\"rateItem\":\"MarketDetail_rateItem__1ZjMK\"};","module.exports = __webpack_public_path__ + \"static/media/backIcon.fe8ca2ab.svg\";","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { line, curveLinear } from 'd3-shape';\n\nfunction InterestRateChart(props) {\n    const { market } = props\n\n    const { t } = useTranslation()\n    const currentUtilRate = parseFloat((market.utilRate || 0).toFixed(2))\n\n    const [curRate, setCurRate] = useState(currentUtilRate)\n\n    const ethMantissa = 1e18;\n    const BaseRatePerBlock = parseInt(market.baseRatePerBlock)\n    const MultiplierPerBlock = parseInt(market.multiplierPerBlock)\n    const JumpMultiplierPerBlock = parseInt(market.jumpMultiplierPerBlock)\n    const Kink = market.kink / ethMantissa\n    const reserveFactor = market.reserveFactor\n\n    const WIDTH = 1000 // viewBox WIDTH\n    const HEIGHT = 500 // viewBox HEIGHT\n    const VPADDING = 8 // in percentage\n    const HPADDING = 50 // viewBox unit\n    const colors = {\n        background: \"transparents\",\n        purple: '#A162F1',\n        green: '#00D092',\n        blue: '#3784F9',\n        grey: '#C6C6C6'\n    }\n    const fontStyles = {\n        fontSize: '1.8em',\n        fontWeight: 500,\n    }\n    const contentHeight = 70 // supply, borrow rate graph HEIGHT in percentage\n\n    const annual = (val) => {\n        const blocksPerDay = 20 * 60 * 24;\n        const daysPerYear = 365;\n        return (((Math.pow((val / ethMantissa * blocksPerDay) + 1, daysPerYear))) - 1) * 100.0\n    }\n\n    const borrowRate = (util) => {\n        return annual(borrowRatePerBlock(util / 100.0))\n    }\n    const borrowRatePerBlock = (utilRate) => {\n        if (utilRate <= Kink)\n            return BaseRatePerBlock + utilRate * MultiplierPerBlock\n        // return BaseRatePerBlock + utilRate * MultiplierPerBlock + (utilRate - Kink) * JumpMultiplierPerBlock\n        return BaseRatePerBlock + Kink * MultiplierPerBlock + (utilRate - Kink) * JumpMultiplierPerBlock\n    }\n\n    const supplyRate = (util) => {\n        return annual(supplyRatePerBlock(util / 100.0))\n    }\n    const supplyRatePerBlock = (utilRate) => {\n        const _borrowRatePerBlock = borrowRatePerBlock(utilRate);\n        return _borrowRatePerBlock * utilRate * (1 - reserveFactor)\n    }\n\n    const mapToPoint = (pt) => {\n        const x = HPADDING + pt[0] * (WIDTH - HPADDING * 2) / 100.0\n        const y = pt[1] * HEIGHT / 100.0\n        return [x, y]\n    }\n\n    const utilRates = []\n    const borrowRates = []\n    const supplyRates = []\n\n    // generate points\n    for (let i=0; i<=100; i++) {\n        utilRates.push([i, VPADDING])\n        borrowRates.push([i, borrowRate(i)])\n        supplyRates.push([i, supplyRate(i)])\n        if (i <= currentUtilRate && currentUtilRate < i + 1) {\n            utilRates.push([currentUtilRate, VPADDING])\n            borrowRates.push([currentUtilRate, borrowRate(currentUtilRate)])\n            supplyRates.push([currentUtilRate, supplyRate(currentUtilRate)])\n        }\n    }\n\n    // fit supply, borrow rate between 10% and 90%\n    const maxY = Math.max(...[...borrowRates, ...supplyRates].map(e => e[1]))\n    const revertYValue = (y) => (100 - (y * contentHeight / maxY + VPADDING))\n    for (let i=0; i<borrowRates.length; i++) {\n        borrowRates[i][1] = revertYValue(borrowRates[i][1])\n        supplyRates[i][1] = revertYValue(supplyRates[i][1])\n    }\n\n  \n    // map to real points\n    const uPath = line().curve(curveLinear)(utilRates.map(mapToPoint)) || '';\n    const bPath = line().curve(curveLinear)(borrowRates.map(mapToPoint)) || '';\n    const sPath = line().curve(curveLinear)(supplyRates.map(mapToPoint)) || '';\n\n    const lines = (\n        <g>\n            <path d={uPath} stroke={colors.purple} strokeWidth=\"6\" fill=\"transparent\" />\n            <path d={bPath} stroke={colors.blue} strokeWidth=\"6\" fill=\"transparent\" />\n            <path d={sPath} stroke={colors.green} strokeWidth=\"6\" fill=\"transparent\" />\n        </g>\n    )\n\n    // show current util rate\n    const curIndStart = mapToPoint([currentUtilRate, VPADDING + 1])\n    const curIndEnd = mapToPoint([currentUtilRate, VPADDING + 10])\n\n    const currentUtilValue = (\n        <g>\n            <line x1={curIndStart[0]} y1={curIndStart[1]} x2={curIndEnd[0]} y2={curIndEnd[1]} stroke={colors.purple} strokeWidth=\"2\" fill=\"transparent\" />\n            <text x={curIndEnd[0]} y={curIndEnd[1] + 30} textAnchor=\"middle\" fill={colors.purple} style={fontStyles}>{t('MarketDetail.InterestRateModel.Current')}</text>\n        </g>\n    )\n\n    // show current pointer\n    const curUPoint = mapToPoint([curRate, VPADDING])\n    const curBPoint = mapToPoint([curRate, revertYValue(borrowRate(curRate))])\n    const curSPoint = mapToPoint([curRate, revertYValue(supplyRate(curRate))])\n\n    const pointsText = (\n        <g>\n            <line x1={curUPoint[0]} y1={curUPoint[1]} x2={curSPoint[0]} y2={curSPoint[1]} stroke={colors.grey} strokeWidth=\"2\" fill=\"transparent\"/>\n\n            <circle cx={curUPoint[0]} cy={curUPoint[1]} r=\"10\" fill={colors.purple} stroke={colors.background} />\n            <text x={curUPoint[0]} y={curUPoint[1] - 15} textAnchor=\"middle\" fill={colors.purple} style={fontStyles} >{curRate.toFixed(2)}%</text>\n\n            <circle cx={curBPoint[0]} cy={curBPoint[1]} r=\"10\" fill={colors.blue} stroke={colors.background} />\n            {/* <rect x={curBPoint[0] - 50} y={curBPoint[1] - 40} width={100} height={30} fill={colors.background}/> */}\n            <text x={curBPoint[0]} y={curBPoint[1] - 15} textAnchor=\"middle\" fill={colors.blue} style={fontStyles} >{borrowRate(curRate).toFixed(2)}%</text>\n\n            <circle cx={curSPoint[0]} cy={curSPoint[1]} r=\"10\" fill={colors.green} stroke={colors.background} />\n            {/* <rect x={curSPoint[0] - 50} y={curSPoint[1] + 10} width={100} height={30} fill={colors.background}/> */}\n            <text x={curSPoint[0]} y={curSPoint[1] + 35} textAnchor=\"middle\" fill={colors.green} style={fontStyles} >{supplyRate(curRate).toFixed(2)}%</text>\n        </g>\n    )\n\n    // click area\n    const clickBoxWidth = WIDTH - HPADDING * 2\n    const clickBoxStartX = utilRates[0][0] + HPADDING\n    const onPosChange = (evt) => {\n        if (evt.buttons < 1) return\n        let dim = evt.target.getBoundingClientRect();\n        let x = evt.clientX - dim.left;\n        const value = x / dim.width * 100\n        const rate = [Math.floor(value), Math.ceil(value), currentUtilRate].reduce((a, b) => {\n            return Math.abs(b - value) < Math.abs(a - value) ? b : a;\n        });\n        setCurRate(rate)\n    }\n\n    return (\n        <svg width=\"100%\" viewBox={`0 0 ${WIDTH} ${HEIGHT}`} xmlns=\"http://www.w3.org/2000/svg\">\n            <rect x={clickBoxStartX} y=\"0\" width={clickBoxWidth} height={HEIGHT} fill=\"transparent\" onMouseDown={onPosChange} onMouseMove={onPosChange} />\n            {/* 线 */}\n            {lines}\n            {/* 点和文字 */}\n            {pointsText}\n            {currentUtilValue}\n        </svg>\n    )\n}\n\nexport default InterestRateChart\n","import React, { useState, useContext, useEffect, useRef } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { Redirect, useParams } from 'react-router-dom'\nimport { Container, OverlayTrigger, Tooltip } from 'react-bootstrap'\nimport truncateMiddle from 'truncate-middle'\nimport classNames from 'classnames'\nimport { BigNumber } from 'bignumber.js'\nimport { WalletAddressContext, NetworkTypeContext, Web3Context, ReadonlyWeb3Context, LanguageContext } from '../../context'\nimport FetchData from '../../methods/FetchData'\nimport CoreData from '../../methods/CoreData'\nimport Config from '../../utils/config'\nimport { TwinLogo, TorTooltip } from '../../components/littleComponents'\nimport InterestRateChart from '../../pages/MarketDetailV2/InterestRateChart'\nimport styles from './MarketDetail.module.scss'\nimport ContentLoader from 'react-content-loader'\nimport { loadingColors } from '../../utils/color'\nimport { FaLink } from \"@react-icons/all-files/fa/FaLink\"\nimport backIcon from '../../images/freshBank/backIcon.svg'\nimport { globalUtils } from '../../utils/globalUtils'\n\n\nasync function loadMarketData(web3, networkType, connectedAddress, market, mainNetWeb3) {\n  await FetchData.callContract(web3, connectedAddress, networkType, mainNetWeb3)\n  FetchData.clearMarketDataCache()\n  await FetchData.cacheAllMarketData(web3, networkType, connectedAddress, [market])\n  await Promise.all([\n    FetchData.getApyRate(web3, networkType, market)\n      .then(response => {\n        market.savingsAPY = response.savingsAPY\n        market.loanAPY = response.loanAPY\n        market.savingsMintAPY = response.savingsMintAPY\n        market.loanMintAPY = response.loanMintAPY\n        market.fildaSpeedAPY = response.fildaSpeedAPY\n        market.fildaSpeedFiatAPY = response.fildaSpeedFiatAPY\n        market.compSupplySpeedPerDay = response.compSupplySpeedPerDay\n        market.compBorrowSpeedPerDay = response.compBorrowSpeedPerDay\n      }),\n    FetchData.getWalletBalance(web3, connectedAddress, networkType, market)\n      .then(response => {\n        market.walletBalance = response.walletBalance\n        market.walletBalanceFormatted = response.walletBalanceFormatted\n        market.walletBalanceFiat = response.walletBalanceFiat\n      }),\n    FetchData.getLiquidityBalance(web3, networkType, market)\n      .then(response => {\n        market.liquidity = response.liquidity\n        market.liquidityFormatted = response.liquidityFormatted\n        market.liquidityFiat = response.liquidityFiat\n      }),\n    FetchData.getTotalBorrowed(web3, networkType, market)\n      .then(response => {\n        market.totalBorrowed = response.totalBorrowed\n        market.totalBorrowedFormatted = response.totalBorrowedFormatted\n        market.totalBorrowedFiat = response.totalBorrowedFiat\n      }),\n    FetchData.getTotalSupply(web3, networkType, market)\n      .then(response => {\n        market.totalSupply = response.totalSupply\n        market.totalSupplyFormatted = response.totalSupplyFormatted\n        market.totalSupplyFiat = response.totalSupplyFiat\n        market.utilRate = response.utilRate\n      }),\n    FetchData.getSavingsBalance(web3, connectedAddress, networkType, market)\n      .then(response => {\n        market.savingsBalance = response.savingsBalance\n        market.savingsBalanceFormatted = response.savingsBalanceFormatted\n        market.savingsBalanceFiat = response.savingsBalanceFiat\n        market.savingsCTokenBalance = response.savingsCTokenBalance\n      }),\n    FetchData.getLoanBalance(web3, connectedAddress, networkType, market)\n      .then(response => {\n        market.loanBalance = response.loanBalance\n        market.loanBalanceFormatted = response.loanBalanceFormatted\n        market.loanBalanceFiat = response.loanBalanceFiat\n      }),\n    FetchData.checkMembership(web3, connectedAddress, networkType, market)\n      .then(response => {\n        market.isAssetMember = response\n      }),\n    FetchData.checkMintPaused(web3, networkType, market).then(response => {\n      market.isMintPaused = response\n    }),\n    FetchData.checkBorrowPaused(web3, networkType, market).then(response => {\n      market.isBorrowPaused = response\n    }),\n    FetchData.getPrice(web3, networkType, market).then(response => {\n      market.price = response\n    }),\n    FetchData.getCollateralStatus(web3, connectedAddress, networkType, market).then(response => {\n      market.collateralStatus = response\n    }),\n    FetchData.getExchangeRate(web3, networkType, market).then(response => {\n      market.exchangeRate = response.exchangeRateFormatted\n    }),\n    FetchData.getDecimals(web3, networkType, market).then(response => {\n      market.decimals = response\n    }),\n    FetchData.getInterestRateModel(web3, networkType, market).then(response => {\n      market.blocksPerYear = response.blocksPerYear\n      market.baseRatePerBlock = response.baseRatePerBlock\n      market.multiplierPerBlock = response.multiplierPerBlock\n      market.jumpMultiplierPerBlock = response.jumpMultiplierPerBlock\n      market.kink = response.kink\n    }),\n    FetchData.getReserveFactor(web3, networkType, market).then(response => {\n      market.reserveFactor = response\n    }),\n    FetchData.getMarketPercentage(web3, networkType, market).then(response => {\n      market.percentageOfTotalBorrowed = response.percentageOfTotalBorrowed\n      market.percentageOfTotalMining = response.percentageOfTotalMining\n    })\n  ])\n  await FetchData.getBorrowLimit(web3, networkType, market)\n    .then(response => {\n      market.borrowLimit = response.borrowLimit\n      market.borrowLimitFormatted = response.borrowLimitFormatted\n      market.borrowLimitFiat = response.borrowLimitFiat\n      market.collateralFactor = response.collateralFactor\n    })\n  await FetchData.getLPData(web3, connectedAddress, networkType, market)\n    .then(response => {\n      market.lpReward = response.lpReward\n      market.lpTotalAPY = response.lpTotalAPY\n    })\n  await FetchData.getCloseFactor(web3, networkType, market)\n    .then(response => {\n      market.closeFactor = response\n    })\n  await FetchData.getLiquidationIncentive(web3, networkType, market)\n    .then(response => {\n      market.liquidationIncentive = response\n    })\n  await FetchData.getMaticCap(web3, connectedAddress, networkType, market)\n    .then(response => {\n      market.borrowCap = response.borrowCap\n      market.borrowCapFormatted = response.borrowCapFormatted\n      market.borrowCapFiat = response.borrowCapFiat\n      market.supplyCap = response.supplyCap\n      market.supplyCapFormatted = response.supplyCapFormatted\n      market.supplyCapFiat = response.supplyCapFiat\n    })\n\n  return market\n}\n\n\nfunction getLocaleString(networkType, s, deci = 2) {\n  if (s === undefined || networkType === \"unsupported\") {\n    return 0\n  }\n  return BigNumber(s).toFormat(deci, 1, {\n    prefix: '$',\n    decimalSeparator: '.',\n    groupSeparator: ',',\n    groupSize: 3\n  })\n}\n\nfunction MarketDetail(props) {\n  const { language } = useContext(LanguageContext);\n  const { connectedAddress } = useContext(WalletAddressContext)\n  const { networkType } = useContext(NetworkTypeContext)\n  const { web3, hecoMainNetWeb3 } = useContext(Web3Context)\n\n  const { t, i18n } = useTranslation()\n\n  const { symbol } = useParams()\n  const marketsArr = FetchData.getNetworkMarkets(networkType)\n  const initMarket = Config.markets[symbol]\n  const [market, setMarket] = useState(initMarket)\n  // const [percent, setPercent] = useState(0)\n  // const [movePercent, setMovePercent] = useState(0)\n\n  const [chartRate, setChartRate] = useState({})\n  const [loading, setLoading] = useState(true)\n  // const [isMoving, setIsMoving] = useState(false)\n\n  const fetchingRef = useRef(false)\n\n  useEffect(() => {\n    async function initialLoad() {\n\n      const loadData = async () => {\n        if (!!initMarket && !fetchingRef.current && networkType && networkType !== \"unsupported\") {\n          fetchingRef.current = true\n          try {\n            const res = await loadMarketData(\n              web3,\n              networkType,\n              connectedAddress || globalUtils.ADDRESS_PLACEHOLDER,\n              initMarket,\n              hecoMainNetWeb3\n            );\n            setMarket({ ...res })\n            const chartData = getChartData({ ...res })\n            const { percent, ...rate } = chartData\n            // setPercent(percent)\n            // setMovePercent(percent)\n            setChartRate(rate)\n            setLoading(false)\n          } catch (e) {\n            console.error('Error to load markets data:', e)\n          } finally {\n            fetchingRef.current = false\n          }\n        }\n      }\n\n      loadData()\n    }\n\n    if (networkType === \"unsupported\") {\n      setMarket(initMarket)\n      // setPercent(0)\n      // setMovePercent(0)\n      setChartRate({})\n      setLoading(false)\n    } else {\n      initialLoad()\n    }\n\n    return () => {\n      setMarket(initMarket)\n    }\n  }, [props.data])\n\n  const qTokenAddress = !loading && market.qToken.network[networkType] ? market.qToken.network[networkType].address : \"\";\n\n  const getChartData = (market, rate = market.utilRate) => {\n    const currentUtilRate = parseFloat((rate || 0).toFixed(2))\n    const ethMantissa = 1e18;\n    const BaseRatePerBlock = parseInt(market.baseRatePerBlock)\n    const MultiplierPerBlock = parseInt(market.multiplierPerBlock)\n    const JumpMultiplierPerBlock = parseInt(market.jumpMultiplierPerBlock)\n    const Kink = market.kink / ethMantissa\n    const reserveFactor = market.reserveFactor\n    const percent = currentUtilRate > 100 ? 100 : currentUtilRate\n\n    const annual = (val) => {\n      const blockInterval = Config?.blockInterval?.[networkType] || 3\n      const blocksPerMinute = 60 / blockInterval\n      const blocksPerDay = blocksPerMinute * 60 * 24;\n      const daysPerYear = 365;\n      return (((Math.pow((val / ethMantissa * blocksPerDay) + 1, daysPerYear - 1))) - 1) * 100.0\n    }\n\n    const borrowRatePerBlock = (utilRate) => {\n      if (utilRate <= Kink)\n        return BaseRatePerBlock + utilRate * MultiplierPerBlock\n      return BaseRatePerBlock + utilRate * MultiplierPerBlock + (utilRate - Kink) * JumpMultiplierPerBlock\n    }\n\n    const borrowRate = (util) => {\n      return annual(borrowRatePerBlock(util / 100.0))\n    }\n\n    const supplyRate = (util) => {\n      return annual(supplyRatePerBlock(util / 100.0))\n    }\n    const supplyRatePerBlock = (utilRate) => {\n      const _borrowRatePerBlock = borrowRatePerBlock(utilRate)\n      return _borrowRatePerBlock * utilRate * (1 - reserveFactor)\n    }\n\n    return {\n      percent,\n      currentUtilRate,\n      borrowRate: borrowRate(currentUtilRate),\n      supplyRate: supplyRate(currentUtilRate),\n    }\n  }\n\n  if (!marketsArr.filter(item => item.symbol === symbol).length && networkType && networkType !== \"unsupported\") {\n    return <Redirect to=\"/crypto-bank\" />\n  }\n\n  const handleGoBack = event => {\n    if (parseInt(window.localStorage.getItem(globalUtils.COME_FROM)) === globalUtils.ComeFrom.home) {\n      window.location.href = \"/\" + language;\n    } else {\n      window.location.href = \"/\" + language + \"/crypto-bank\"\n    }\n  };\n\n\n  const contentLoader =\n  <div className={styles.emptyMessageContainer}>\n    <ContentLoader\n        height={20}\n        width=\"100%\"\n        speed={1}\n        backgroundColor={loadingColors.background}\n        foregroundColor={loadingColors.foreground}\n      >\n        <rect x=\"20%\" y=\"0\" rx=\"0\" ry=\"0\" width=\"60%\" height=\"20\" />\n    </ContentLoader>\n  </div>\n\n\nconst marketsLoader = \n<div className={styles.emptyMessageContainer}>\n  <ContentLoader\n      height={20}\n      width=\"100%\"\n      speed={1}\n      backgroundColor={loadingColors.background}\n      foregroundColor={loadingColors.foreground}\n    >\n      <rect x=\"60%\" y=\"0\" rx=\"0\" ry=\"0\" width=\"40%\" height=\"20\" />\n  </ContentLoader>\n</div>\n\n\n  const theChart = () => {\n    return networkType !== \"unsupported\" && (\n      <InterestRateChart\n        market={market}\n        updateRate={chartRate?.currentUtilRate}\n        networkType={networkType}\n      />\n    )\n  }\n\n  return (<div className={styles.marketDetail}>\n    <div className={styles.detailHeader}>\n      <Container className={styles.container}>\n        <a href='#' onClick={handleGoBack}>\n          <img src={backIcon} alt=\"back\" />\n          <span>{t('Banking.Markets.Title')}</span>\n        </a>\n\n        <div className={classNames(styles.blockContainer, styles.introContainer, { [styles.lpIntroContainer]: market.isLPToken })}>\n          {!market.isLPToken ? (<img\n            src={market?.logo}\n            className={styles.introIcon}\n            alt=\"logo\" />) : (<TwinLogo\n              large={true}\n              mode={2}\n              logo1={market.logo1}\n              logo2={market.logo2} />)}\n\n          <div className={styles.marketName}>{market?.uiSymbol || market?.symbol}</div>\n\n          <div className={styles.marketSymbol}>{market?.uiName || market?.name}</div>\n        </div>\n\n        <div className={styles.cards}>\n          <div className={styles.loanLimitContainer}>\n            <div className={styles.txtTitle}>{t('MarketDetail.TotalSupply')}</div>\n            <div className={styles.txtNum}>\n              {loading ? contentLoader : `${getLocaleString(networkType, market?.totalSupplyFiat)}`}\n            </div>\n          </div>\n\n          <div className={styles.loanLimitContainer} style={{ backgroundColor: \"rgba(255, 255, 255, 0.12)\" }}>\n            <div className={styles.txtTitle}>{t('MarketDetail.AvailableLiquidity')}</div>\n            <div className={styles.txtNum}>\n              {loading ? contentLoader : getLocaleString(networkType, market?.liquidityFiat)}\n            </div>\n          </div>\n\n          <div className={styles.loanLimitContainer} style={{ backgroundColor: \"rgba(0, 96, 208, 0.5)\" }}>\n            <div className={styles.txtTitle}>{t('MarketDetail.TotalBorrowed')}</div>\n            <div className={styles.txtNum}>\n              {loading ? contentLoader : getLocaleString(networkType, market?.totalBorrowedFiat)}\n            </div>\n          </div>\n        </div>\n      </Container>\n    </div>\n\n    <div className={styles.mainContainer}>\n      <Container className={styles.container}>\n        <div className={styles.chartContainer}>\n          <div className={styles.caption}>{t('MarketDetail.InterestRateModel.title')}</div>\n\n          <div className={styles.chartDescription}>\n            <div className={styles.item}>\n              <div className={styles.txtTitle}>{CoreData.toUpperCase(i18n.language, t('MarketDetail.InterestRateModel.Util'))}</div>\n            </div>\n            <div className={classNames(styles.item, styles.borrowItem)}>\n              <div className={styles.txtTitle}>{CoreData.toUpperCase(i18n.language, t('MarketDetail.InterestRateModel.Borrow'))}</div>\n            </div>\n            <div className={classNames(styles.item, styles.supplyItem)}>\n              <div className={styles.txtTitle}>{CoreData.toUpperCase(i18n.language, t('MarketDetail.InterestRateModel.Supply'))}</div>\n            </div>\n          </div>\n\n          {loading ? (\n            <ContentLoader\n              height={250}\n              width={\"100%\"}\n              speed={1}\n              backgroundColor={loadingColors.background}\n              foregroundColor={loadingColors.foreground}\n            >\n              <rect x=\"10%\" y=\"30%\" rx=\"0\" ry=\"0\" width=\"80%\" height=\"22\" />\n              <rect x=\"10%\" y=\"60%\" rx=\"0\" ry=\"0\" width=\"80%\" height=\"22\" />\n              <rect x=\"10%\" y=\"90%\" rx=\"0\" ry=\"0\" width=\"80%\" height=\"22\" />\n            </ContentLoader>\n          ) : theChart()}\n\n        </div>\n        <div className={styles.chartContainer}>\n          <div className={styles.caption}>{t('MarketDetail.Markets.title')}</div>\n          <div className={styles.list}>\n            <div className={styles.item}>\n              <div className={styles.txtTitle}>{t('MarketDetail.Markets.Price')}</div>\n              <div className={styles.txtNum}>\n                {loading\n                  ? marketsLoader\n                  : getLocaleString(networkType, market?.price)\n                }\n              </div>\n            </div>\n\n            {/* TODO：数据合约中没有 */}\n            {/* <div className={styles.item}>\n              <div className={styles.txtTitle}>{`${market.symbol} of Suppliers`}</div>\n              <div className={styles.txtNum}>\n                {\n                  loading \n                  ? marketsLoader \n                  : (market.collateralFactor && networkType !== \"unsupported\" ? (market.collateralFactor * 100.0).toFixed() + '%': '0%')\n                }\n              </div>\n            </div>\n\n            <div className={styles.item}>\n              <div className={styles.txtTitle}>{`${market.symbol} of Borrowers`}</div>\n              <div className={styles.txtNum}>\n                {\n                  loading \n                  ? marketsLoader \n                  : (market.collateralFactor && networkType !== \"unsupported\" ? (market.collateralFactor * 100.0).toFixed() + '%': '0%')\n                }\n              </div>\n            </div> */}\n            <div className={styles.item}>\n              <div className={styles.txtTitle}>\n                <TorTooltip\n                  type=\"icon\"\n                  title={t('MarketDetail.Markets.ReserveFactor')}\n                  desc={t('MarketDetail.Markets.ReserveFactor-info')}\n                />\n              </div>\n              <div className={styles.txtNum}>\n                {\n                  loading\n                    ? marketsLoader\n                    : (market.reserveFactor && networkType !== \"unsupported\" ? (market.reserveFactor * 100.0).toFixed() + '%' : '0%')\n                }\n              </div>\n            </div>\n\n            <div className={styles.item}>\n              <div className={styles.txtTitle}>\n                <TorTooltip\n                  type=\"icon\"\n                  title={t('MarketDetail.Markets.CollateralFactor')}\n                  tooltipClassName=\"marketDetail-tooltips\"\n                  desc={(\n                    <div className={styles.info}>\n                      <p>{t('MarketDetail.Markets.CollateralFactor-info1')}</p>\n                      <p>{t('MarketDetail.Markets.CollateralFactor-info2')}</p>\n                    </div>\n                  )}\n                />\n              </div>\n              <div className={styles.txtNum}>\n                {\n                  loading\n                    ? marketsLoader\n                    : (market.collateralFactor && networkType !== \"unsupported\" ? (market.collateralFactor * 100.0).toFixed() + '%' : '0%')\n                }\n              </div>\n            </div>\n\n            <div className={styles.item}>\n              <div className={styles.txtTitle}>\n                <TorTooltip\n                  type=\"icon\"\n                  title={t('MarketDetail.Markets.SupplyCap')}\n                  tooltipClassName=\"marketDetail-tooltips\"\n                  desc={(\n                    <div className={styles.info}>\n                      <p>{t('MarketDetail.Markets.SupplyCap-info1')}</p>\n                    </div>\n                  )}\n                />\n              </div>\n              <div className={styles.txtNum}>\n                {\n                  loading\n                    ? marketsLoader\n                    : (market.supplyCapFormatted && networkType !== \"unsupported\" ? market.supplyCapFormatted : t('Common.None'))\n                }\n              </div>\n            </div>\n\n            <div className={styles.item}>\n              <div className={styles.txtTitle}>\n                <TorTooltip\n                  type=\"icon\"\n                  title={t('MarketDetail.Markets.BorrowCap')}\n                  tooltipClassName=\"marketDetail-tooltips\"\n                  desc={(\n                    <div className={styles.info}>\n                      <p>{t('MarketDetail.Markets.BorrowCap-info1')}</p>\n                    </div>\n                  )}\n                />\n              </div>\n              <div className={styles.txtNum}>\n                {\n                  loading\n                    ? marketsLoader\n                    : (market.borrowCapFormatted && networkType !== \"unsupported\" ? market.borrowCapFormatted : t('Common.None'))\n                }\n              </div>\n            </div>\n\n\n            <div className={styles.item}>\n              <div className={styles.txtTitle}>\n                <TorTooltip\n                  type=\"icon\"\n                  title={t('MarketDetail.Markets.CloseFactor')}\n                  tooltipClassName=\"dailyReward-tooltips\"\n                  desc={t('MarketDetail.Markets.CloseFactor-info')}\n                />\n              </div>\n              <div className={styles.txtNum}>\n                {\n                  loading\n                    ? marketsLoader\n                    : (market.closeFactor && networkType !== \"unsupported\" ? (market.closeFactor * 100.0).toFixed() + '%' : '0%')\n                }\n              </div>\n            </div>\n\n            <div className={styles.item}>\n              <div className={styles.txtTitle}>\n                <TorTooltip\n                  type=\"icon\"\n                  title={t('MarketDetail.Markets.LiquidationIncentive')}\n                  tooltipClassName=\"dailyReward-tooltips\"\n                  desc={t('MarketDetail.Markets.LiquidationIncentive-info')}\n                />\n              </div>\n              <div className={styles.txtNum}>\n                {\n                  loading\n                    ? marketsLoader\n                    : (market.liquidationIncentive && networkType !== \"unsupported\" ? market.liquidationIncentive.toFixed() + '%' : '0%')\n                }\n              </div>\n            </div>\n\n            <div className={styles.item}>\n              <div className={styles.txtTitle}>\n                <TorTooltip\n                  type=\"icon\"\n                  title={t('MarketDetail.Markets.DailyDepositReward')}\n                  tooltipClassName=\"marketDetail-tooltips\"\n                  desc={(\n                    <div className={styles.info}>\n                      <p>{t('MarketDetail.Markets.DailyDepositReward-info1')}</p>\n                      <p>{t('MarketDetail.Markets.DailyDepositReward-info2')}</p>\n                    </div>\n                  )}\n                />\n              </div>\n              <div className={styles.txtNum}>\n                {\n                  loading\n                    ? marketsLoader\n                    : (market.liquidationIncentive && networkType !== \"unsupported\" ? market.compSupplySpeedPerDay : '0')\n                }\n              </div>\n            </div>\n\n            <div className={styles.item}>\n              <div className={styles.txtTitle}>\n                <TorTooltip\n                  type=\"icon\"\n                  title={t('MarketDetail.Markets.DailyBorrowingReward')}\n                  tooltipClassName=\"marketDetail-tooltips\"\n                  desc={(\n                    <div className={styles.info}>\n                      <p>{t('MarketDetail.Markets.DailyBorrowingReward-info1')}</p>\n                      <p>{t('MarketDetail.Markets.DailyBorrowingReward-info2')}</p>\n                    </div>\n                  )}\n                />\n              </div>\n              <div className={styles.txtNum}>\n                {\n                  loading\n                    ? marketsLoader\n                    : (market.liquidationIncentive && networkType !== \"unsupported\" ? market.compBorrowSpeedPerDay : '0')\n                }\n              </div>\n            </div>\n\n            <div className={styles.item}>\n\n              <div className={styles.txtTitle}>\n                <TorTooltip\n                  type=\"icon\"\n                  title={t('MarketDetail.Markets.tTokenExchangeRate')}\n                  tooltipClassName=\"marketDetail-tooltips\"\n                  desc={t('MarketDetail.Markets.tTokenExchangeRate-info')}\n                />\n              </div>\n\n              <div className={styles.txtNum}>\n                {\n                  loading\n                    ? marketsLoader\n                    : (market.liquidationIncentive && networkType !== \"unsupported\" && `1 ${market?.name} = ${market?.exchangeRate} ${market?.qToken?.symbol}` : '-')\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n      </Container>\n    </div>\n  </div>)\n}\n\nexport default MarketDetail"],"sourceRoot":""}